/home/bhandk/miniconda3/envs/MLNeuron/lib/python3.9/site-packages/torch/cuda/__init__.py:546: UserWarning: Can't initialize NVML
  warnings.warn("Can't initialize NVML")
2023-11-08 10:40:58 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:40:58 - INFO :       DATASET: commonsense_qa_mmlu
Both
Index 0
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:20<00:20, 20.63s/it]Loading checkpoint shards: 100%|██████████| 2/2 [01:31<00:00, 50.42s/it]Loading checkpoint shards: 100%|██████████| 2/2 [01:31<00:00, 45.95s/it]
2023-11-08 10:42:45 - INFO :       Use taylor pruner...
2023-11-08 10:42:45 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:42:45 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:42:51 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 339/9741 [00:00<00:03, 2581.55 examples/s]Map (num_proc=10):  57%|█████▋    | 5509/9741 [00:00<00:00, 28088.83 examples/s]Map (num_proc=10):  92%|█████████▏| 9008/9741 [00:00<00:00, 31014.12 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20876.83 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4466.50 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4921.89 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 517/99842 [00:00<00:22, 4396.00 examples/s]Map (num_proc=10):   6%|▌         | 6022/99842 [00:00<00:02, 32096.25 examples/s]Map (num_proc=10):  10%|█         | 10300/99842 [00:00<00:02, 35209.64 examples/s]Map (num_proc=10):  15%|█▍        | 14929/99842 [00:00<00:02, 39356.17 examples/s]Map (num_proc=10):  21%|██        | 20689/99842 [00:00<00:01, 45467.52 examples/s]Map (num_proc=10):  25%|██▌       | 25457/99842 [00:00<00:01, 43681.30 examples/s]Map (num_proc=10):  31%|███       | 31111/99842 [00:00<00:01, 47385.10 examples/s]Map (num_proc=10):  36%|███▋      | 36298/99842 [00:00<00:01, 48115.23 examples/s]Map (num_proc=10):  42%|████▏     | 41992/99842 [00:00<00:01, 50483.28 examples/s]Map (num_proc=10):  47%|████▋     | 47142/99842 [00:01<00:01, 49343.61 examples/s]Map (num_proc=10):  53%|█████▎    | 52559/99842 [00:01<00:00, 50210.01 examples/s]Map (num_proc=10):  58%|█████▊    | 57659/99842 [00:01<00:00, 50435.68 examples/s]Map (num_proc=10):  63%|██████▎   | 62725/99842 [00:01<00:00, 49826.55 examples/s]Map (num_proc=10):  68%|██████▊   | 67871/99842 [00:01<00:00, 50025.44 examples/s]Map (num_proc=10):  74%|███████▍  | 73829/99842 [00:01<00:00, 51358.86 examples/s]Map (num_proc=10):  79%|███████▉  | 78974/99842 [00:01<00:00, 49596.41 examples/s]Map (num_proc=10):  84%|████████▍ | 83989/99842 [00:01<00:00, 44099.10 examples/s]Map (num_proc=10):  89%|████████▊ | 88530/99842 [00:01<00:00, 42717.47 examples/s]Map (num_proc=10):  93%|█████████▎| 92883/99842 [00:02<00:00, 33937.16 examples/s]Map (num_proc=10):  97%|█████████▋| 96960/99842 [00:02<00:00, 26468.51 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11737.44 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 6096.89 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6587.10 examples/s]
2023-11-08 10:43:06 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:43:07 - INFO :       Loss = 11.5
2023-11-08 10:43:10 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:43:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:43:10 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:43:10 - INFO :       
==================Finish================

2023-11-08 10:43:10 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:43:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:43:10 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.84s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.44s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.65s/it]
2023-11-08 10:43:24 - INFO :       Use taylor pruner...
2023-11-08 10:43:24 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:43:24 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:43:25 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 390/9741 [00:00<00:03, 2736.60 examples/s]Map (num_proc=10):  46%|████▋     | 4516/9741 [00:00<00:00, 21737.92 examples/s]Map (num_proc=10):  89%|████████▉ | 8717/9741 [00:00<00:00, 29926.75 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 18825.85 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1214.78 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4696.46 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 357/29837 [00:00<00:08, 3344.81 examples/s]Map (num_proc=10):  20%|██        | 5998/29837 [00:00<00:00, 33648.56 examples/s]Map (num_proc=10):  35%|███▌      | 10456/29837 [00:00<00:00, 38185.27 examples/s]Map (num_proc=10):  50%|█████     | 14975/29837 [00:00<00:00, 37193.41 examples/s]Map (num_proc=10):  68%|██████▊   | 20308/29837 [00:00<00:00, 42165.74 examples/s]Map (num_proc=10):  84%|████████▎ | 24947/29837 [00:00<00:00, 43002.17 examples/s]Map (num_proc=10): 100%|█████████▉| 29692/29837 [00:00<00:00, 37850.90 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27440.77 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 351/4475 [00:00<00:01, 3486.64 examples/s]Map (num_proc=10):  99%|█████████▊| 4419/4475 [00:00<00:00, 24842.34 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14109.56 examples/s]
2023-11-08 10:43:31 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:43:32 - INFO :       Loss = 14.1640625
2023-11-08 10:43:34 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:43:34 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:43:35 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:43:35 - INFO :       
==================Finish================

2023-11-08 10:43:35 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:43:35 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:43:35 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.52s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.75s/it]
2023-11-08 10:43:49 - INFO :       Use taylor pruner...
2023-11-08 10:43:49 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:43:49 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:43:50 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 393/9741 [00:00<00:03, 3069.60 examples/s]Map (num_proc=10):  61%|██████    | 5961/9741 [00:00<00:00, 30235.59 examples/s]Map (num_proc=10):  98%|█████████▊| 9500/9741 [00:00<00:00, 31495.62 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19843.26 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1156.31 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4703.90 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 207/684 [00:00<00:00, 2049.31 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2811.14 examples/s]
2023-11-08 10:43:54 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:43:54 - INFO :       Loss = 13.890625
2023-11-08 10:43:57 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:43:57 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:43:57 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:43:57 - INFO :       
==================Finish================

2023-11-08 10:43:57 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:43:57 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:43:57 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.08s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.57s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.80s/it]
2023-11-08 10:44:12 - INFO :       Use taylor pruner...
2023-11-08 10:44:12 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:44:12 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:44:12 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 394/9741 [00:00<00:03, 3072.86 examples/s]Map (num_proc=10):  52%|█████▏    | 5084/9741 [00:00<00:00, 26155.61 examples/s]Map (num_proc=10):  92%|█████████▏| 8940/9741 [00:00<00:00, 30397.82 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19929.10 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:01, 1083.61 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4270.21 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 1/12726 [00:00<28:06,  7.55 examples/s]Map (num_proc=10):  17%|█▋        | 2202/12726 [00:00<00:00, 11347.87 examples/s]Map (num_proc=10):  47%|████▋     | 5961/12726 [00:00<00:00, 22408.32 examples/s]Map (num_proc=10):  67%|██████▋   | 8508/12726 [00:06<00:04, 991.53 examples/s]  Map (num_proc=10):  80%|████████  | 10196/12726 [00:06<00:01, 1335.97 examples/s]Map (num_proc=10):  92%|█████████▏| 11680/12726 [00:12<00:01, 609.54 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:14<00:00, 621.15 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:14<00:00, 877.12 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 6/4241 [00:00<01:18, 53.65 examples/s]Map (num_proc=10):  57%|█████▋    | 2423/4241 [00:00<00:00, 13182.86 examples/s]Map (num_proc=10):  92%|█████████▏| 3914/4241 [00:04<00:00, 721.28 examples/s]  Map (num_proc=10): 100%|██████████| 4241/4241 [00:04<00:00, 913.23 examples/s]
2023-11-08 10:44:36 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:44:37 - INFO :       Loss = 14.828125
2023-11-08 10:44:39 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:44:39 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:44:40 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:44:40 - INFO :       
==================Finish================

2023-11-08 10:44:40 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:44:40 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:44:40 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.18s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.40s/it]
2023-11-08 10:44:54 - INFO :       Use taylor pruner...
2023-11-08 10:44:54 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:44:54 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:44:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 333/99842 [00:00<00:39, 2503.63 examples/s]Map (num_proc=10):   5%|▌         | 5113/99842 [00:00<00:03, 25926.73 examples/s]Map (num_proc=10):   9%|▉         | 8770/99842 [00:00<00:03, 30342.04 examples/s]Map (num_proc=10):  13%|█▎        | 12551/99842 [00:00<00:02, 33093.85 examples/s]Map (num_proc=10):  18%|█▊        | 18005/99842 [00:00<00:02, 39979.11 examples/s]Map (num_proc=10):  24%|██▎       | 23516/99842 [00:00<00:01, 43424.65 examples/s]Map (num_proc=10):  29%|██▊       | 28517/99842 [00:00<00:01, 45445.37 examples/s]Map (num_proc=10):  34%|███▍      | 34184/99842 [00:00<00:01, 47540.35 examples/s]Map (num_proc=10):  39%|███▉      | 39246/99842 [00:00<00:01, 45052.79 examples/s]Map (num_proc=10):  44%|████▍     | 44080/99842 [00:01<00:01, 45946.54 examples/s]Map (num_proc=10):  49%|████▉     | 48859/99842 [00:01<00:01, 46465.25 examples/s]Map (num_proc=10):  54%|█████▎    | 53551/99842 [00:01<00:01, 45250.14 examples/s]Map (num_proc=10):  59%|█████▉    | 58751/99842 [00:01<00:00, 46167.94 examples/s]Map (num_proc=10):  65%|██████▌   | 65383/99842 [00:01<00:00, 50999.01 examples/s]Map (num_proc=10):  72%|███████▏  | 71459/99842 [00:01<00:00, 52359.64 examples/s]Map (num_proc=10):  77%|███████▋  | 76753/99842 [00:01<00:00, 52485.22 examples/s]Map (num_proc=10):  82%|████████▏ | 82075/99842 [00:01<00:00, 48867.54 examples/s]Map (num_proc=10):  87%|████████▋ | 87256/99842 [00:01<00:00, 48121.94 examples/s]Map (num_proc=10):  92%|█████████▏| 92212/99842 [00:02<00:00, 47791.37 examples/s]Map (num_proc=10):  97%|█████████▋| 97260/99842 [00:02<00:00, 42273.07 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12054.26 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 5430.81 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5849.93 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 273/12726 [00:00<00:05, 2449.28 examples/s]Map (num_proc=10):  37%|███▋      | 4758/12726 [00:00<00:00, 25763.63 examples/s]Map (num_proc=10):  59%|█████▉    | 7516/12726 [00:00<00:00, 26389.44 examples/s]Map (num_proc=10):  82%|████████▏ | 10414/12726 [00:00<00:00, 20316.30 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 1411.19 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2277.47 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 240/4241 [00:00<00:02, 1463.67 examples/s]Map (num_proc=10):  58%|█████▊    | 2470/4241 [00:00<00:00, 10394.56 examples/s]Map (num_proc=10):  88%|████████▊ | 3738/4241 [00:01<00:00, 1665.58 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 1964.07 examples/s]
2023-11-08 10:45:15 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:45:15 - INFO :       Loss = 11.765625
2023-11-08 10:45:18 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:45:18 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:45:18 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:45:18 - INFO :       
==================Finish================

2023-11-08 10:45:18 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:45:18 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:45:18 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.61s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.15s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.37s/it]
2023-11-08 10:45:32 - INFO :       Use taylor pruner...
2023-11-08 10:45:32 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:45:32 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:45:32 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 403/29837 [00:00<00:08, 3445.91 examples/s]Map (num_proc=10):  15%|█▍        | 4397/29837 [00:00<00:01, 23495.94 examples/s]Map (num_proc=10):  32%|███▏      | 9562/29837 [00:00<00:00, 33373.35 examples/s]Map (num_proc=10):  47%|████▋     | 13911/29837 [00:00<00:00, 37019.46 examples/s]Map (num_proc=10):  64%|██████▍   | 19163/29837 [00:00<00:00, 42357.33 examples/s]Map (num_proc=10):  80%|████████  | 23960/29837 [00:00<00:00, 42183.31 examples/s]Map (num_proc=10):  95%|█████████▍| 28231/29837 [00:00<00:00, 41700.58 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27006.39 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   9%|▉         | 397/4475 [00:00<00:01, 3295.44 examples/s]Map (num_proc=10):  98%|█████████▊| 4372/4475 [00:00<00:00, 21666.55 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12493.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 236/12726 [00:00<00:06, 1948.60 examples/s]Map (num_proc=10):  26%|██▋       | 3365/12726 [00:00<00:00, 17750.59 examples/s]Map (num_proc=10):  51%|█████▏    | 6549/12726 [00:00<00:00, 23856.64 examples/s]Map (num_proc=10):  72%|███████▏  | 9117/12726 [00:00<00:00, 19184.90 examples/s]Map (num_proc=10):  89%|████████▊ | 11264/12726 [00:00<00:00, 15169.94 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2180.54 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 262/4241 [00:00<00:01, 2175.22 examples/s]Map (num_proc=10):  77%|███████▋  | 3267/4241 [00:01<00:00, 2293.72 examples/s]Map (num_proc=10):  83%|████████▎ | 3511/4241 [00:01<00:00, 2238.62 examples/s]Map (num_proc=10):  93%|█████████▎| 3955/4241 [00:01<00:00, 2420.43 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2260.61 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2158.59 examples/s]
2023-11-08 10:45:45 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:45:45 - INFO :       Loss = 14.421875
2023-11-08 10:45:48 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:45:48 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:45:48 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:45:48 - INFO :       
==================Finish================

2023-11-08 10:45:48 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:45:48 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:45:48 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 1
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.27s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.39s/it]
2023-11-08 10:45:59 - INFO :       Use taylor pruner...
2023-11-08 10:45:59 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:45:59 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:46:00 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 270/9741 [00:00<00:04, 2093.68 examples/s]Map (num_proc=10):  42%|████▏     | 4125/9741 [00:00<00:00, 20823.45 examples/s]Map (num_proc=10):  85%|████████▍ | 8252/9741 [00:00<00:00, 29406.65 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 17944.18 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3473.51 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4744.35 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 419/99842 [00:00<00:26, 3722.35 examples/s]Map (num_proc=10):   6%|▋         | 6405/99842 [00:00<00:02, 34577.19 examples/s]Map (num_proc=10):  11%|█         | 11105/99842 [00:00<00:02, 39998.05 examples/s]Map (num_proc=10):  17%|█▋        | 17314/99842 [00:00<00:01, 47296.73 examples/s]Map (num_proc=10):  23%|██▎       | 23424/99842 [00:00<00:01, 51769.52 examples/s]Map (num_proc=10):  29%|██▉       | 29214/99842 [00:00<00:01, 53304.84 examples/s]Map (num_proc=10):  35%|███▍      | 34773/99842 [00:00<00:01, 52567.26 examples/s]Map (num_proc=10):  41%|████▏     | 41187/99842 [00:00<00:01, 56106.79 examples/s]Map (num_proc=10):  47%|████▋     | 47018/99842 [00:00<00:00, 52879.97 examples/s]Map (num_proc=10):  53%|█████▎    | 52582/99842 [00:01<00:00, 53073.65 examples/s]Map (num_proc=10):  58%|█████▊    | 57946/99842 [00:01<00:00, 51904.97 examples/s]Map (num_proc=10):  63%|██████▎   | 63280/99842 [00:01<00:00, 52288.35 examples/s]Map (num_proc=10):  70%|██████▉   | 69500/99842 [00:01<00:00, 54708.44 examples/s]Map (num_proc=10):  75%|███████▌  | 75071/99842 [00:01<00:00, 53959.51 examples/s]Map (num_proc=10):  81%|████████  | 80749/99842 [00:01<00:00, 53329.25 examples/s]Map (num_proc=10):  87%|████████▋ | 86424/99842 [00:01<00:00, 51916.41 examples/s]Map (num_proc=10):  92%|█████████▏| 92133/99842 [00:01<00:00, 53339.21 examples/s]Map (num_proc=10):  98%|█████████▊| 97583/99842 [00:01<00:00, 44657.56 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:07<00:00, 12765.80 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1397.09 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5244.11 examples/s]
2023-11-08 10:46:12 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:46:13 - INFO :       Loss = 11.5
2023-11-08 10:46:16 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:46:16 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:46:17 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:46:17 - INFO :       
==================Finish================

2023-11-08 10:46:17 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:46:17 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:46:17 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.81s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.18s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.27s/it]
2023-11-08 10:46:27 - INFO :       Use taylor pruner...
2023-11-08 10:46:27 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:46:27 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:46:27 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 376/9741 [00:00<00:02, 3497.07 examples/s]Map (num_proc=10):  61%|██████    | 5962/9741 [00:00<00:00, 32892.29 examples/s]Map (num_proc=10):  97%|█████████▋| 9422/9741 [00:00<00:00, 30378.49 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21386.77 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3587.80 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4648.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 342/29837 [00:00<00:09, 3115.48 examples/s]Map (num_proc=10):  19%|█▉        | 5663/29837 [00:00<00:00, 31314.30 examples/s]Map (num_proc=10):  30%|███       | 9050/29837 [00:00<00:00, 32248.27 examples/s]Map (num_proc=10):  46%|████▌     | 13661/29837 [00:00<00:00, 36961.71 examples/s]Map (num_proc=10):  60%|██████    | 17904/29837 [00:00<00:00, 38875.19 examples/s]Map (num_proc=10):  77%|███████▋  | 22990/29837 [00:00<00:00, 40950.52 examples/s]Map (num_proc=10):  91%|█████████ | 27131/29837 [00:00<00:00, 39188.88 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 28073.39 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 332/4475 [00:00<00:01, 2776.43 examples/s]Map (num_proc=10):  94%|█████████▍| 4202/4475 [00:00<00:00, 21131.53 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12841.08 examples/s]
2023-11-08 10:46:33 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:46:33 - INFO :       Loss = 14.1640625
2023-11-08 10:46:35 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:46:35 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:46:36 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:46:36 - INFO :       
==================Finish================

2023-11-08 10:46:36 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:46:36 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:46:36 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.79s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  1.99s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.26s/it]
2023-11-08 10:46:47 - INFO :       Use taylor pruner...
2023-11-08 10:46:47 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:46:47 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:46:47 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 367/9741 [00:00<00:03, 3041.74 examples/s]Map (num_proc=10):  63%|██████▎   | 6152/9741 [00:00<00:00, 32343.33 examples/s]Map (num_proc=10):  99%|█████████▉| 9633/9741 [00:00<00:00, 33106.47 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20360.55 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3406.98 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4721.85 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  60%|██████    | 412/684 [00:00<00:00, 4055.03 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 3094.05 examples/s]
2023-11-08 10:46:51 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:46:51 - INFO :       Loss = 13.890625
2023-11-08 10:46:54 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:46:54 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:46:55 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:46:55 - INFO :       
==================Finish================

2023-11-08 10:46:55 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:46:55 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:46:55 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.79s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.40s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.61s/it]
2023-11-08 10:47:08 - INFO :       Use taylor pruner...
2023-11-08 10:47:08 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:47:08 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:47:09 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 374/9741 [00:00<00:02, 3312.58 examples/s]Map (num_proc=10):  73%|███████▎  | 7066/9741 [00:00<00:00, 38167.84 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21400.29 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1192.21 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4584.40 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 175/12726 [00:00<00:08, 1494.08 examples/s]Map (num_proc=10):  36%|███▌      | 4545/12726 [00:00<00:00, 24094.54 examples/s]Map (num_proc=10):  61%|██████▏   | 7820/12726 [00:00<00:00, 27770.14 examples/s]Map (num_proc=10):  85%|████████▌ | 10865/12726 [00:00<00:00, 19158.62 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2014.76 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 224/4241 [00:00<00:01, 2031.78 examples/s]Map (num_proc=10):  58%|█████▊    | 2446/4241 [00:00<00:00, 12969.00 examples/s]Map (num_proc=10):  91%|█████████▏| 3873/4241 [00:01<00:00, 1886.68 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2289.37 examples/s]
2023-11-08 10:47:21 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:47:21 - INFO :       Loss = 14.828125
2023-11-08 10:47:24 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:47:24 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:47:24 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:47:24 - INFO :       
==================Finish================

2023-11-08 10:47:24 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:47:24 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:47:24 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.54s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.20s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.40s/it]
2023-11-08 10:47:38 - INFO :       Use taylor pruner...
2023-11-08 10:47:38 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:47:38 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:47:38 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 407/99842 [00:00<00:28, 3460.04 examples/s]Map (num_proc=10):   6%|▌         | 5895/99842 [00:00<00:02, 31643.63 examples/s]Map (num_proc=10):  10%|█         | 10252/99842 [00:00<00:02, 36822.31 examples/s]Map (num_proc=10):  15%|█▍        | 14719/99842 [00:00<00:02, 37729.07 examples/s]Map (num_proc=10):  21%|██        | 20544/99842 [00:00<00:01, 44748.46 examples/s]Map (num_proc=10):  25%|██▌       | 25205/99842 [00:00<00:01, 44337.18 examples/s]Map (num_proc=10):  30%|███       | 30024/99842 [00:00<00:01, 45528.02 examples/s]Map (num_proc=10):  36%|███▌      | 35525/99842 [00:00<00:01, 47557.44 examples/s]Map (num_proc=10):  41%|████      | 41097/99842 [00:00<00:01, 49992.26 examples/s]Map (num_proc=10):  46%|████▋     | 46420/99842 [00:01<00:01, 49184.19 examples/s]Map (num_proc=10):  52%|█████▏    | 52131/99842 [00:01<00:00, 51474.92 examples/s]Map (num_proc=10):  57%|█████▋    | 57332/99842 [00:01<00:00, 49857.90 examples/s]Map (num_proc=10):  63%|██████▎   | 62595/99842 [00:01<00:00, 49150.05 examples/s]Map (num_proc=10):  68%|██████▊   | 67713/99842 [00:01<00:00, 48200.01 examples/s]Map (num_proc=10):  73%|███████▎  | 72686/99842 [00:01<00:00, 45172.05 examples/s]Map (num_proc=10):  78%|███████▊  | 77430/99842 [00:01<00:00, 45779.66 examples/s]Map (num_proc=10):  82%|████████▏ | 82281/99842 [00:01<00:00, 46526.09 examples/s]Map (num_proc=10):  87%|████████▋ | 86988/99842 [00:01<00:00, 45296.30 examples/s]Map (num_proc=10):  92%|█████████▏| 92273/99842 [00:02<00:00, 44843.16 examples/s]Map (num_proc=10):  97%|█████████▋| 96900/99842 [00:02<00:00, 38401.06 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11989.70 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4218.89 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6103.26 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 231/12726 [00:00<00:06, 1977.35 examples/s]Map (num_proc=10):  37%|███▋      | 4755/12726 [00:00<00:00, 25756.32 examples/s]Map (num_proc=10):  64%|██████▍   | 8131/12726 [00:00<00:00, 29214.52 examples/s]Map (num_proc=10):  88%|████████▊ | 11259/12726 [00:04<00:00, 1942.50 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2237.99 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 179/4241 [00:00<00:02, 1483.21 examples/s]Map (num_proc=10):  50%|████▉     | 2109/4241 [00:00<00:00, 10377.20 examples/s]Map (num_proc=10):  79%|███████▉  | 3351/4241 [00:00<00:00, 10592.96 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2385.31 examples/s] 
2023-11-08 10:47:58 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:47:59 - INFO :       Loss = 11.765625
2023-11-08 10:48:01 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:48:01 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:48:02 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:48:02 - INFO :       
==================Finish================

2023-11-08 10:48:02 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:48:02 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:48:02 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.59s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.21s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.42s/it]
2023-11-08 10:48:14 - INFO :       Use taylor pruner...
2023-11-08 10:48:14 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:48:14 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:48:15 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 339/29837 [00:00<00:09, 3047.71 examples/s]Map (num_proc=10):  17%|█▋        | 5072/29837 [00:00<00:00, 27523.96 examples/s]Map (num_proc=10):  31%|███       | 9155/29837 [00:00<00:00, 33290.74 examples/s]Map (num_proc=10):  46%|████▌     | 13674/29837 [00:00<00:00, 37580.41 examples/s]Map (num_proc=10):  59%|█████▊    | 17476/29837 [00:00<00:00, 37177.30 examples/s]Map (num_proc=10):  78%|███████▊  | 23335/29837 [00:00<00:00, 42631.01 examples/s]Map (num_proc=10):  93%|█████████▎| 27637/29837 [00:00<00:00, 39069.36 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 29048.95 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▋         | 286/4475 [00:00<00:01, 2220.05 examples/s]Map (num_proc=10):  94%|█████████▍| 4204/4475 [00:00<00:00, 19246.30 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 11653.38 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 242/12726 [00:00<00:06, 1899.92 examples/s]Map (num_proc=10):  26%|██▌       | 3329/12726 [00:00<00:00, 17092.62 examples/s]Map (num_proc=10):  51%|█████     | 6453/12726 [00:00<00:00, 22972.70 examples/s]Map (num_proc=10):  70%|███████   | 8967/12726 [00:00<00:00, 20458.19 examples/s]Map (num_proc=10):  89%|████████▊ | 11286/12726 [00:00<00:00, 17297.43 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2001.72 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 224/4241 [00:00<00:02, 1936.52 examples/s]Map (num_proc=10):  79%|███████▉  | 3364/4241 [00:00<00:00, 3764.70 examples/s]Map (num_proc=10):  89%|████████▉ | 3787/4241 [00:01<00:00, 1821.94 examples/s]Map (num_proc=10):  95%|█████████▍| 4008/4241 [00:01<00:00, 1784.79 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2048.32 examples/s]
2023-11-08 10:48:28 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:48:29 - INFO :       Loss = 14.421875
2023-11-08 10:48:31 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:48:31 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:48:32 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:48:32 - INFO :       
==================Finish================

2023-11-08 10:48:32 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:48:32 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:48:32 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 2
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.97s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.50s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.72s/it]
2023-11-08 10:48:44 - INFO :       Use taylor pruner...
2023-11-08 10:48:44 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:48:44 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:48:45 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 386/9741 [00:00<00:02, 3678.27 examples/s]Map (num_proc=10):  62%|██████▏   | 6004/9741 [00:00<00:00, 31872.15 examples/s]Map (num_proc=10):  94%|█████████▍| 9146/9741 [00:00<00:00, 30070.67 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21919.61 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3624.10 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4898.13 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 434/99842 [00:00<00:26, 3714.26 examples/s]Map (num_proc=10):   6%|▌         | 6025/99842 [00:00<00:02, 32397.96 examples/s]Map (num_proc=10):  11%|█         | 10698/99842 [00:00<00:02, 37590.87 examples/s]Map (num_proc=10):  16%|█▌        | 16070/99842 [00:00<00:01, 43566.98 examples/s]Map (num_proc=10):  22%|██▏       | 22179/99842 [00:00<00:01, 48725.00 examples/s]Map (num_proc=10):  28%|██▊       | 28385/99842 [00:00<00:01, 51758.38 examples/s]Map (num_proc=10):  34%|███▍      | 33796/99842 [00:00<00:01, 52445.83 examples/s]Map (num_proc=10):  40%|███▉      | 39896/99842 [00:00<00:01, 55008.93 examples/s]Map (num_proc=10):  46%|████▌     | 45852/99842 [00:00<00:00, 56332.01 examples/s]Map (num_proc=10):  52%|█████▏    | 51519/99842 [00:01<00:00, 55782.31 examples/s]Map (num_proc=10):  57%|█████▋    | 57170/99842 [00:01<00:00, 55981.99 examples/s]Map (num_proc=10):  63%|██████▎   | 62813/99842 [00:01<00:00, 56075.66 examples/s]Map (num_proc=10):  69%|██████▉   | 68730/99842 [00:01<00:00, 54534.76 examples/s]Map (num_proc=10):  75%|███████▍  | 74461/99842 [00:01<00:00, 55055.18 examples/s]Map (num_proc=10):  80%|████████  | 80204/99842 [00:01<00:00, 53948.22 examples/s]Map (num_proc=10):  87%|████████▋ | 86383/99842 [00:01<00:00, 56202.17 examples/s]Map (num_proc=10):  92%|█████████▏| 92069/99842 [00:01<00:00, 53532.46 examples/s]Map (num_proc=10):  98%|█████████▊| 97760/99842 [00:03<00:00, 9926.78 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12352.14 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:01, 1351.84 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 4969.54 examples/s]
2023-11-08 10:48:58 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:48:58 - INFO :       Loss = 11.5
2023-11-08 10:49:01 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:49:01 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:49:02 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:49:02 - INFO :       
==================Finish================

2023-11-08 10:49:02 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:49:02 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:49:02 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.54s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.43s/it]
2023-11-08 10:49:16 - INFO :       Use taylor pruner...
2023-11-08 10:49:16 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:16 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:16 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 352/9741 [00:00<00:02, 3187.04 examples/s]Map (num_proc=10):  65%|██████▌   | 6335/9741 [00:00<00:00, 34692.03 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22547.30 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3511.66 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5072.24 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 321/29837 [00:00<00:10, 2889.36 examples/s]Map (num_proc=10):  19%|█▊        | 5566/29837 [00:00<00:00, 30495.78 examples/s]Map (num_proc=10):  33%|███▎      | 9782/29837 [00:00<00:00, 35424.65 examples/s]Map (num_proc=10):  49%|████▉     | 14652/29837 [00:00<00:00, 39280.57 examples/s]Map (num_proc=10):  66%|██████▌   | 19582/29837 [00:00<00:00, 42248.69 examples/s]Map (num_proc=10):  82%|████████▏ | 24598/29837 [00:00<00:00, 44769.63 examples/s]Map (num_proc=10):  98%|█████████▊| 29114/29837 [00:00<00:00, 42173.83 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 28847.96 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 303/4475 [00:00<00:01, 2662.17 examples/s]Map (num_proc=10):  94%|█████████▍| 4204/4475 [00:00<00:00, 22774.65 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12125.64 examples/s]
2023-11-08 10:49:22 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:49:22 - INFO :       Loss = 14.1640625
2023-11-08 10:49:24 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:49:24 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:49:25 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:49:25 - INFO :       
==================Finish================

2023-11-08 10:49:25 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:49:25 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:49:25 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.71s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.36s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.56s/it]
2023-11-08 10:49:38 - INFO :       Use taylor pruner...
2023-11-08 10:49:38 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:38 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:39 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 337/9741 [00:00<00:03, 2786.24 examples/s]Map (num_proc=10):  64%|██████▍   | 6227/9741 [00:00<00:00, 32733.07 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 32253.81 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22246.84 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:00, 1128.71 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4308.65 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 138/684 [00:00<00:00, 1378.94 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2475.69 examples/s]
2023-11-08 10:49:43 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:49:43 - INFO :       Loss = 13.890625
2023-11-08 10:49:46 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:49:46 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:49:46 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:49:46 - INFO :       
==================Finish================

2023-11-08 10:49:46 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:49:46 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:49:46 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.97s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.16s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.43s/it]
2023-11-08 10:49:57 - INFO :       Use taylor pruner...
2023-11-08 10:49:57 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:57 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:49:58 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 325/9741 [00:00<00:03, 2816.28 examples/s]Map (num_proc=10):  75%|███████▌  | 7338/9741 [00:00<00:00, 36551.58 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22763.98 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3316.55 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4899.59 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 232/12726 [00:00<00:06, 1959.29 examples/s]Map (num_proc=10):  37%|███▋      | 4721/12726 [00:00<00:00, 25415.21 examples/s]Map (num_proc=10):  61%|██████    | 7704/12726 [00:00<00:00, 25668.63 examples/s]Map (num_proc=10):  82%|████████▏ | 10422/12726 [00:00<00:00, 23496.84 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2240.07 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 214/4241 [00:00<00:02, 1908.59 examples/s]Map (num_proc=10):  47%|████▋     | 1976/4241 [00:00<00:00, 10547.75 examples/s]Map (num_proc=10):  75%|███████▍  | 3166/4241 [00:01<00:00, 1926.10 examples/s] Map (num_proc=10):  90%|█████████ | 3833/4241 [00:01<00:00, 1744.56 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 1859.33 examples/s]
2023-11-08 10:50:10 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:50:11 - INFO :       Loss = 14.828125
2023-11-08 10:50:13 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:50:13 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:50:14 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:50:14 - INFO :       
==================Finish================

2023-11-08 10:50:14 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:50:14 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:50:14 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.91s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.32s/it]
2023-11-08 10:50:21 - INFO :       Use taylor pruner...
2023-11-08 10:50:21 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:50:21 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:50:21 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 458/99842 [00:00<00:24, 4048.01 examples/s]Map (num_proc=10):   6%|▌         | 5937/99842 [00:00<00:02, 31748.94 examples/s]Map (num_proc=10):   9%|▉         | 9416/99842 [00:00<00:02, 33012.36 examples/s]Map (num_proc=10):  14%|█▍        | 13898/99842 [00:00<00:02, 36644.13 examples/s]Map (num_proc=10):  20%|█▉        | 19792/99842 [00:00<00:01, 43797.46 examples/s]Map (num_proc=10):  25%|██▍       | 24811/99842 [00:00<00:01, 45838.01 examples/s]Map (num_proc=10):  31%|███       | 30823/99842 [00:00<00:01, 50394.17 examples/s]Map (num_proc=10):  37%|███▋      | 36911/99842 [00:00<00:01, 53665.09 examples/s]Map (num_proc=10):  43%|████▎     | 42717/99842 [00:00<00:01, 54365.59 examples/s]Map (num_proc=10):  48%|████▊     | 48292/99842 [00:01<00:01, 50649.03 examples/s]Map (num_proc=10):  54%|█████▎    | 53466/99842 [00:01<00:00, 50026.55 examples/s]Map (num_proc=10):  59%|█████▊    | 58602/99842 [00:01<00:00, 49565.38 examples/s]Map (num_proc=10):  64%|██████▍   | 64211/99842 [00:01<00:00, 50623.24 examples/s]Map (num_proc=10):  70%|██████▉   | 69545/99842 [00:01<00:00, 50153.36 examples/s]Map (num_proc=10):  75%|███████▌  | 74884/99842 [00:01<00:00, 48971.15 examples/s]Map (num_proc=10):  80%|████████  | 80349/99842 [00:01<00:00, 50167.36 examples/s]Map (num_proc=10):  86%|████████▌ | 86110/99842 [00:01<00:00, 52264.45 examples/s]Map (num_proc=10):  92%|█████████▏| 91458/99842 [00:01<00:00, 50640.85 examples/s]Map (num_proc=10):  97%|█████████▋| 96834/99842 [00:02<00:00, 45510.33 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11789.24 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4595.85 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6243.06 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 231/12726 [00:00<00:06, 2025.31 examples/s]Map (num_proc=10):  38%|███▊      | 4892/12726 [00:00<00:00, 26704.98 examples/s]Map (num_proc=10):  62%|██████▏   | 7940/12726 [00:00<00:00, 28325.14 examples/s]Map (num_proc=10):  86%|████████▌ | 10901/12726 [00:00<00:00, 17623.90 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2105.34 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 232/4241 [00:00<00:02, 1904.53 examples/s]Map (num_proc=10):  77%|███████▋  | 3286/4241 [00:00<00:00, 16136.39 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2066.29 examples/s] 
2023-11-08 10:50:42 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:50:42 - INFO :       Loss = 11.765625
2023-11-08 10:50:45 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:50:45 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:50:46 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:50:46 - INFO :       
==================Finish================

2023-11-08 10:50:46 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:50:46 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:50:46 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.85s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.19s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.29s/it]
2023-11-08 10:50:54 - INFO :       Use taylor pruner...
2023-11-08 10:50:54 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:50:54 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:50:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 406/29837 [00:00<00:07, 3763.38 examples/s]Map (num_proc=10):  20%|█▉        | 5912/29837 [00:00<00:00, 32295.06 examples/s]Map (num_proc=10):  37%|███▋      | 11127/29837 [00:00<00:00, 40587.97 examples/s]Map (num_proc=10):  52%|█████▏    | 15560/29837 [00:00<00:00, 41725.95 examples/s]Map (num_proc=10):  72%|███████▏  | 21452/29837 [00:00<00:00, 47097.43 examples/s]Map (num_proc=10):  88%|████████▊ | 26370/29837 [00:00<00:00, 45095.08 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27270.88 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   9%|▊         | 388/4475 [00:00<00:01, 3571.19 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 24374.08 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14173.56 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 259/12726 [00:00<00:06, 1813.71 examples/s]Map (num_proc=10):  32%|███▏      | 4018/12726 [00:00<00:00, 19285.71 examples/s]Map (num_proc=10):  56%|█████▋    | 7176/12726 [00:00<00:00, 24246.50 examples/s]Map (num_proc=10):  77%|███████▋  | 9840/12726 [00:00<00:00, 17685.95 examples/s]Map (num_proc=10):  95%|█████████▌| 12148/12726 [00:00<00:00, 14871.12 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2237.26 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 212/4241 [00:00<00:02, 1858.34 examples/s]Map (num_proc=10):  78%|███████▊  | 3293/4241 [00:00<00:00, 17626.05 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2114.63 examples/s] 
2023-11-08 10:51:07 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:51:07 - INFO :       Loss = 14.421875
2023-11-08 10:51:09 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:51:09 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:51:10 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:51:10 - INFO :       
==================Finish================

2023-11-08 10:51:10 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:51:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:51:10 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 3
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.27s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.38s/it]
2023-11-08 10:51:19 - INFO :       Use taylor pruner...
2023-11-08 10:51:19 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:51:19 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:51:19 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 360/9741 [00:00<00:03, 2786.66 examples/s]Map (num_proc=10):  47%|████▋     | 4614/9741 [00:00<00:00, 22835.72 examples/s]Map (num_proc=10):  83%|████████▎ | 8065/9741 [00:00<00:00, 27702.27 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 18452.05 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:01, 1055.67 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4101.43 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 371/99842 [00:00<00:32, 3034.50 examples/s]Map (num_proc=10):   5%|▍         | 4913/99842 [00:00<00:03, 25204.36 examples/s]Map (num_proc=10):   9%|▉         | 9146/99842 [00:00<00:02, 32262.31 examples/s]Map (num_proc=10):  13%|█▎        | 13075/99842 [00:00<00:02, 33942.93 examples/s]Map (num_proc=10):  18%|█▊        | 18199/99842 [00:00<00:02, 39882.62 examples/s]Map (num_proc=10):  22%|██▏       | 22349/99842 [00:00<00:01, 39655.60 examples/s]Map (num_proc=10):  27%|██▋       | 27452/99842 [00:00<00:01, 43177.98 examples/s]Map (num_proc=10):  32%|███▏      | 32336/99842 [00:00<00:01, 44304.26 examples/s]Map (num_proc=10):  37%|███▋      | 37086/99842 [00:00<00:01, 44280.80 examples/s]Map (num_proc=10):  42%|████▏     | 41708/99842 [00:01<00:01, 43567.86 examples/s]Map (num_proc=10):  47%|████▋     | 46485/99842 [00:01<00:01, 44026.91 examples/s]Map (num_proc=10):  51%|█████     | 51009/99842 [00:01<00:01, 43090.89 examples/s]Map (num_proc=10):  56%|█████▋    | 56387/99842 [00:01<00:00, 45839.17 examples/s]Map (num_proc=10):  61%|██████    | 61121/99842 [00:01<00:00, 45680.77 examples/s]Map (num_proc=10):  67%|██████▋   | 66592/99842 [00:01<00:00, 48275.13 examples/s]Map (num_proc=10):  72%|███████▏  | 71574/99842 [00:01<00:00, 47755.32 examples/s]Map (num_proc=10):  78%|███████▊  | 77827/99842 [00:01<00:00, 51911.26 examples/s]Map (num_proc=10):  84%|████████▍ | 83984/99842 [00:01<00:00, 54713.80 examples/s]Map (num_proc=10):  90%|████████▉ | 89533/99842 [00:01<00:00, 54807.89 examples/s]Map (num_proc=10):  95%|█████████▌| 95109/99842 [00:02<00:00, 50078.77 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11795.61 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 307/1531 [00:00<00:00, 3028.96 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5895.86 examples/s]
2023-11-08 10:51:33 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:51:33 - INFO :       Loss = 11.5
2023-11-08 10:51:36 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:51:36 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:51:37 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:51:37 - INFO :       
==================Finish================

2023-11-08 10:51:37 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:51:37 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:51:37 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.56s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  1.88s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.14s/it]
2023-11-08 10:51:48 - INFO :       Use taylor pruner...
2023-11-08 10:51:48 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:51:48 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:51:48 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 383/9741 [00:00<00:02, 3550.06 examples/s]Map (num_proc=10):  62%|██████▏   | 6000/9741 [00:00<00:00, 33134.80 examples/s]Map (num_proc=10):  98%|█████████▊| 9501/9741 [00:00<00:00, 33346.83 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22482.88 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3192.12 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4861.18 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 306/29837 [00:00<00:10, 2889.66 examples/s]Map (num_proc=10):  20%|█▉        | 5933/29837 [00:00<00:00, 32788.26 examples/s]Map (num_proc=10):  35%|███▍      | 10429/29837 [00:00<00:00, 37541.84 examples/s]Map (num_proc=10):  52%|█████▏    | 15511/29837 [00:00<00:00, 41276.67 examples/s]Map (num_proc=10):  67%|██████▋   | 19945/29837 [00:00<00:00, 41794.88 examples/s]Map (num_proc=10):  84%|████████▎ | 24953/29837 [00:00<00:00, 44507.35 examples/s]Map (num_proc=10):  99%|█████████▉| 29570/29837 [00:00<00:00, 25207.04 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27119.79 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 266/4475 [00:00<00:01, 2427.32 examples/s]Map (num_proc=10):  95%|█████████▍| 4234/4475 [00:00<00:00, 23351.96 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12907.72 examples/s]
2023-11-08 10:51:54 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:51:54 - INFO :       Loss = 14.1640625
2023-11-08 10:51:57 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:51:57 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:51:57 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:51:57 - INFO :       
==================Finish================

2023-11-08 10:51:57 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:51:57 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:51:57 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.61s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.49s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.66s/it]
2023-11-08 10:52:07 - INFO :       Use taylor pruner...
2023-11-08 10:52:07 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:07 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:08 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 360/9741 [00:00<00:02, 3382.57 examples/s]Map (num_proc=10):  68%|██████▊   | 6638/9741 [00:00<00:00, 37209.63 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 23272.18 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  60%|██████    | 733/1221 [00:00<00:00, 6092.46 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4869.25 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 344/684 [00:00<00:00, 3415.55 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2935.50 examples/s]
2023-11-08 10:52:11 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:52:12 - INFO :       Loss = 13.890625
2023-11-08 10:52:14 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:52:14 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:52:15 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:52:15 - INFO :       
==================Finish================

2023-11-08 10:52:15 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:52:15 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:52:15 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.01s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.38s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.63s/it]
2023-11-08 10:52:26 - INFO :       Use taylor pruner...
2023-11-08 10:52:26 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:26 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:26 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 212/9741 [00:00<00:04, 1906.23 examples/s]Map (num_proc=10):  56%|█████▋    | 5499/9741 [00:00<00:00, 30538.24 examples/s]Map (num_proc=10):  94%|█████████▍| 9136/9741 [00:00<00:00, 32147.15 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20920.61 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2237.42 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4770.79 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 243/12726 [00:00<00:06, 1957.85 examples/s]Map (num_proc=10):  29%|██▊       | 3631/12726 [00:00<00:00, 18743.12 examples/s]Map (num_proc=10):  58%|█████▊    | 7359/12726 [00:00<00:00, 26398.78 examples/s]Map (num_proc=10):  80%|███████▉  | 10143/12726 [00:00<00:00, 16019.34 examples/s]Map (num_proc=10):  98%|█████████▊| 12453/12726 [00:05<00:00, 1349.43 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2179.95 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 200/4241 [00:00<00:02, 1599.07 examples/s]Map (num_proc=10):  50%|████▉     | 2108/4241 [00:00<00:00, 10567.18 examples/s]Map (num_proc=10):  77%|███████▋  | 3246/4241 [00:01<00:00, 1788.10 examples/s] Map (num_proc=10):  93%|█████████▎| 3943/4241 [00:01<00:00, 1705.34 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 1993.17 examples/s]
2023-11-08 10:52:38 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:52:39 - INFO :       Loss = 14.828125
2023-11-08 10:52:41 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:52:41 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:52:42 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:52:42 - INFO :       
==================Finish================

2023-11-08 10:52:42 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:52:42 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:52:42 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.56s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.33s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.51s/it]
2023-11-08 10:52:56 - INFO :       Use taylor pruner...
2023-11-08 10:52:56 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:56 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:52:56 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 336/99842 [00:00<00:40, 2444.83 examples/s]Map (num_proc=10):   6%|▌         | 5802/99842 [00:00<00:03, 27811.63 examples/s]Map (num_proc=10):  10%|▉         | 9919/99842 [00:00<00:02, 33167.89 examples/s]Map (num_proc=10):  14%|█▍        | 13749/99842 [00:00<00:02, 34253.94 examples/s]Map (num_proc=10):  19%|█▉        | 18766/99842 [00:00<00:02, 39436.29 examples/s]Map (num_proc=10):  24%|██▍       | 24158/99842 [00:00<00:01, 43302.58 examples/s]Map (num_proc=10):  30%|███       | 30042/99842 [00:00<00:01, 47429.48 examples/s]Map (num_proc=10):  35%|███▌      | 35141/99842 [00:00<00:01, 47556.03 examples/s]Map (num_proc=10):  41%|████      | 40727/99842 [00:00<00:01, 49993.95 examples/s]Map (num_proc=10):  46%|████▌     | 45918/99842 [00:01<00:01, 50567.19 examples/s]Map (num_proc=10):  51%|█████▏    | 51313/99842 [00:01<00:00, 51288.50 examples/s]Map (num_proc=10):  57%|█████▋    | 56538/99842 [00:01<00:00, 49550.58 examples/s]Map (num_proc=10):  62%|██████▏   | 61761/99842 [00:01<00:00, 48775.18 examples/s]Map (num_proc=10):  67%|██████▋   | 66675/99842 [00:01<00:00, 47665.48 examples/s]Map (num_proc=10):  72%|███████▏  | 71992/99842 [00:01<00:00, 48607.23 examples/s]Map (num_proc=10):  79%|███████▊  | 78464/99842 [00:01<00:00, 53005.15 examples/s]Map (num_proc=10):  84%|████████▍ | 84169/99842 [00:01<00:00, 54170.79 examples/s]Map (num_proc=10):  90%|████████▉ | 89813/99842 [00:01<00:00, 54234.07 examples/s]Map (num_proc=10):  96%|█████████▌| 95390/99842 [00:02<00:00, 51316.51 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12079.14 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1419.35 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5689.69 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 252/12726 [00:00<00:05, 2097.28 examples/s]Map (num_proc=10):  24%|██▍       | 3097/12726 [00:00<00:00, 16400.76 examples/s]Map (num_proc=10):  51%|█████     | 6444/12726 [00:00<00:00, 23537.96 examples/s]Map (num_proc=10):  70%|██████▉   | 8904/12726 [00:00<00:00, 21903.08 examples/s]Map (num_proc=10):  88%|████████▊ | 11260/12726 [00:04<00:00, 1599.88 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 1594.48 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2304.16 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 139/4241 [00:00<00:03, 1093.67 examples/s]Map (num_proc=10):  67%|██████▋   | 2847/4241 [00:00<00:00, 14073.84 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2336.33 examples/s] 
2023-11-08 10:53:17 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:53:17 - INFO :       Loss = 11.765625
2023-11-08 10:53:20 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:53:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:53:20 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:53:20 - INFO :       
==================Finish================

2023-11-08 10:53:20 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:53:20 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:53:20 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.83s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.41s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.62s/it]
2023-11-08 10:53:34 - INFO :       Use taylor pruner...
2023-11-08 10:53:34 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:53:34 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:53:35 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 355/29837 [00:00<00:10, 2907.80 examples/s]Map (num_proc=10):  17%|█▋        | 5177/29837 [00:00<00:00, 27239.47 examples/s]Map (num_proc=10):  29%|██▉       | 8769/29837 [00:00<00:00, 30898.20 examples/s]Map (num_proc=10):  40%|████      | 11997/29837 [00:00<00:00, 30266.93 examples/s]Map (num_proc=10):  58%|█████▊    | 17174/29837 [00:00<00:00, 35835.04 examples/s]Map (num_proc=10):  72%|███████▏  | 21626/29837 [00:00<00:00, 38065.17 examples/s]Map (num_proc=10):  87%|████████▋ | 25842/29837 [00:00<00:00, 38334.10 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 25852.68 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 26132.87 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 320/4475 [00:00<00:01, 2689.36 examples/s]Map (num_proc=10):  89%|████████▉ | 3997/4475 [00:00<00:00, 19720.35 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12368.50 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 231/12726 [00:00<00:06, 1820.05 examples/s]Map (num_proc=10):  32%|███▏      | 4093/12726 [00:00<00:00, 20913.24 examples/s]Map (num_proc=10):  58%|█████▊    | 7346/12726 [00:00<00:00, 25820.67 examples/s]Map (num_proc=10):  80%|███████▉  | 10174/12726 [00:00<00:00, 19608.05 examples/s]Map (num_proc=10):  97%|█████████▋| 12401/12726 [00:05<00:00, 1380.84 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2208.31 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 243/4241 [00:00<00:02, 1779.50 examples/s]Map (num_proc=10):  57%|█████▋    | 2421/4241 [00:00<00:00, 11946.49 examples/s]Map (num_proc=10):  93%|█████████▎| 3923/4241 [00:01<00:00, 1969.63 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2316.22 examples/s]
2023-11-08 10:53:48 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:53:48 - INFO :       Loss = 14.421875
2023-11-08 10:53:51 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:53:51 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:53:51 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:53:51 - INFO :       
==================Finish================

2023-11-08 10:53:51 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:53:51 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:53:51 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 4
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.85s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.60s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.79s/it]
2023-11-08 10:54:02 - INFO :       Use taylor pruner...
2023-11-08 10:54:02 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:02 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:03 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 386/9741 [00:00<00:02, 3225.87 examples/s]Map (num_proc=10):  47%|████▋     | 4564/9741 [00:00<00:00, 24182.50 examples/s]Map (num_proc=10):  85%|████████▍ | 8269/9741 [00:00<00:00, 29733.12 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19248.94 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1139.30 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4334.20 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 240/99842 [00:00<00:54, 1821.22 examples/s]Map (num_proc=10):   5%|▌         | 5215/99842 [00:00<00:03, 24274.34 examples/s]Map (num_proc=10):   9%|▉         | 9010/99842 [00:00<00:03, 29559.95 examples/s]Map (num_proc=10):  14%|█▍        | 14252/99842 [00:00<00:02, 37142.86 examples/s]Map (num_proc=10):  19%|█▉        | 19201/99842 [00:00<00:01, 40689.50 examples/s]Map (num_proc=10):  24%|██▍       | 24266/99842 [00:00<00:01, 43422.19 examples/s]Map (num_proc=10):  29%|██▉       | 28964/99842 [00:00<00:01, 44006.77 examples/s]Map (num_proc=10):  34%|███▍      | 34092/99842 [00:00<00:01, 46214.65 examples/s]Map (num_proc=10):  39%|███▉      | 39003/99842 [00:00<00:01, 46342.93 examples/s]Map (num_proc=10):  45%|████▍     | 44578/99842 [00:01<00:01, 47415.85 examples/s]Map (num_proc=10):  49%|████▉     | 49383/99842 [00:01<00:01, 42819.80 examples/s]Map (num_proc=10):  55%|█████▍    | 54462/99842 [00:01<00:01, 44793.04 examples/s]Map (num_proc=10):  59%|█████▉    | 59165/99842 [00:01<00:00, 44044.05 examples/s]Map (num_proc=10):  64%|██████▍   | 64178/99842 [00:01<00:00, 45659.93 examples/s]Map (num_proc=10):  70%|██████▉   | 69612/99842 [00:01<00:00, 47126.30 examples/s]Map (num_proc=10):  75%|███████▍  | 74498/99842 [00:01<00:00, 46017.90 examples/s]Map (num_proc=10):  80%|████████  | 80165/99842 [00:01<00:00, 47353.72 examples/s]Map (num_proc=10):  85%|████████▌ | 85101/99842 [00:01<00:00, 46142.63 examples/s]Map (num_proc=10):  90%|█████████ | 89864/99842 [00:02<00:00, 46539.87 examples/s]Map (num_proc=10):  95%|█████████▌| 94866/99842 [00:02<00:00, 45756.78 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 2606.65 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11793.86 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:00, 1474.40 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5715.47 examples/s]
2023-11-08 10:54:16 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:54:17 - INFO :       Loss = 11.5
2023-11-08 10:54:20 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:54:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:54:20 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:54:20 - INFO :       
==================Finish================

2023-11-08 10:54:20 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:54:20 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:54:20 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.34s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.54s/it]
2023-11-08 10:54:33 - INFO :       Use taylor pruner...
2023-11-08 10:54:33 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:33 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:34 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 321/9741 [00:00<00:03, 2915.72 examples/s]Map (num_proc=10):  71%|███████   | 6873/9741 [00:00<00:00, 36943.72 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22748.15 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3495.24 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4934.50 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 318/29837 [00:00<00:11, 2660.18 examples/s]Map (num_proc=10):  19%|█▉        | 5814/29837 [00:00<00:00, 30757.88 examples/s]Map (num_proc=10):  33%|███▎      | 9846/29837 [00:00<00:00, 34686.46 examples/s]Map (num_proc=10):  47%|████▋     | 14162/29837 [00:00<00:00, 37917.24 examples/s]Map (num_proc=10):  64%|██████▍   | 19041/29837 [00:00<00:00, 41506.28 examples/s]Map (num_proc=10):  79%|███████▊  | 23475/29837 [00:00<00:00, 42095.06 examples/s]Map (num_proc=10):  94%|█████████▍| 28013/29837 [00:00<00:00, 42359.82 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 28302.79 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 319/4475 [00:00<00:01, 2924.30 examples/s]Map (num_proc=10):  86%|████████▌ | 3844/4475 [00:00<00:00, 21129.46 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 11883.71 examples/s]
2023-11-08 10:54:39 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:54:40 - INFO :       Loss = 14.1640625
2023-11-08 10:54:42 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:54:42 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:54:43 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:54:43 - INFO :       
==================Finish================

2023-11-08 10:54:43 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:54:43 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:54:43 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.98s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.50s/it]
2023-11-08 10:54:53 - INFO :       Use taylor pruner...
2023-11-08 10:54:53 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:53 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:54:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 387/9741 [00:00<00:02, 3461.50 examples/s]Map (num_proc=10):  71%|███████   | 6931/9741 [00:00<00:00, 37459.21 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22290.91 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4420.67 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4936.93 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 344/684 [00:00<00:00, 3408.13 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2870.31 examples/s]
2023-11-08 10:54:58 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:54:58 - INFO :       Loss = 13.890625
2023-11-08 10:55:01 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:55:01 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:55:01 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:55:01 - INFO :       
==================Finish================

2023-11-08 10:55:01 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:55:01 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:55:01 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.52s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.47s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.63s/it]
2023-11-08 10:55:11 - INFO :       Use taylor pruner...
2023-11-08 10:55:11 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:55:11 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:55:12 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 328/9741 [00:00<00:03, 3031.22 examples/s]Map (num_proc=10):  58%|█████▊    | 5662/9741 [00:00<00:00, 30715.72 examples/s]Map (num_proc=10):  97%|█████████▋| 9495/9741 [00:00<00:00, 32629.63 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22044.60 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3658.64 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5056.36 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 257/12726 [00:00<00:05, 2193.62 examples/s]Map (num_proc=10):  39%|███▉      | 5019/12726 [00:00<00:00, 26972.37 examples/s]Map (num_proc=10):  65%|██████▍   | 8217/12726 [00:00<00:00, 28617.95 examples/s]Map (num_proc=10):  89%|████████▊ | 11280/12726 [00:00<00:00, 20420.47 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2148.35 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 189/4241 [00:00<00:03, 1347.65 examples/s]Map (num_proc=10):  73%|███████▎  | 3094/4241 [00:00<00:00, 14998.49 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2100.82 examples/s] 
2023-11-08 10:55:24 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:55:24 - INFO :       Loss = 14.828125
2023-11-08 10:55:26 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:55:26 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:55:27 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:55:27 - INFO :       
==================Finish================

2023-11-08 10:55:27 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:55:27 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:55:27 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.92s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.32s/it]
2023-11-08 10:55:35 - INFO :       Use taylor pruner...
2023-11-08 10:55:35 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:55:35 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:55:35 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 468/99842 [00:00<00:24, 4071.03 examples/s]Map (num_proc=10):   7%|▋         | 7128/99842 [00:00<00:02, 36705.54 examples/s]Map (num_proc=10):  13%|█▎        | 12832/99842 [00:00<00:01, 45331.44 examples/s]Map (num_proc=10):  18%|█▊        | 18369/99842 [00:00<00:01, 49105.97 examples/s]Map (num_proc=10):  25%|██▍       | 24517/99842 [00:00<00:01, 52714.85 examples/s]Map (num_proc=10):  32%|███▏      | 31788/99842 [00:00<00:01, 59312.68 examples/s]Map (num_proc=10):  38%|███▊      | 37792/99842 [00:00<00:01, 55313.98 examples/s]Map (num_proc=10):  45%|████▍     | 44810/99842 [00:00<00:00, 58295.45 examples/s]Map (num_proc=10):  51%|█████     | 50848/99842 [00:00<00:00, 56942.49 examples/s]Map (num_proc=10):  58%|█████▊    | 57457/99842 [00:01<00:00, 58900.42 examples/s]Map (num_proc=10):  64%|██████▎   | 63431/99842 [00:01<00:00, 58872.77 examples/s]Map (num_proc=10):  70%|██████▉   | 69391/99842 [00:01<00:00, 57701.84 examples/s]Map (num_proc=10):  76%|███████▌  | 75552/99842 [00:01<00:00, 58068.36 examples/s]Map (num_proc=10):  82%|████████▏ | 81656/99842 [00:01<00:00, 57092.04 examples/s]Map (num_proc=10):  88%|████████▊ | 87503/99842 [00:01<00:00, 57027.60 examples/s]Map (num_proc=10):  94%|█████████▎| 93375/99842 [00:01<00:00, 50221.81 examples/s]Map (num_proc=10):  99%|█████████▊| 98548/99842 [00:05<00:00, 4504.15 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:07<00:00, 12588.00 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:01, 1319.29 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5016.18 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 236/12726 [00:00<00:06, 1947.79 examples/s]Map (num_proc=10):  42%|████▏     | 5407/12726 [00:00<00:00, 28706.25 examples/s]Map (num_proc=10):  67%|██████▋   | 8576/12726 [00:00<00:00, 22590.20 examples/s]Map (num_proc=10):  88%|████████▊ | 11162/12726 [00:00<00:00, 19996.35 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2073.71 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 226/4241 [00:00<00:02, 1929.75 examples/s]Map (num_proc=10):  76%|███████▌  | 3226/4241 [00:00<00:00, 3961.27 examples/s]Map (num_proc=10):  84%|████████▍ | 3580/4241 [00:01<00:00, 1823.07 examples/s]Map (num_proc=10):  93%|█████████▎| 3954/4241 [00:01<00:00, 1679.35 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2010.35 examples/s]
2023-11-08 10:55:56 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:55:56 - INFO :       Loss = 11.765625
2023-11-08 10:55:59 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:55:59 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:55:59 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:55:59 - INFO :       
==================Finish================

2023-11-08 10:55:59 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:55:59 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:55:59 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.95s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.10s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.37s/it]
2023-11-08 10:56:10 - INFO :       Use taylor pruner...
2023-11-08 10:56:10 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:56:10 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:56:11 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 360/29837 [00:00<00:09, 3028.35 examples/s]Map (num_proc=10):  21%|██▏       | 6395/29837 [00:00<00:00, 33912.01 examples/s]Map (num_proc=10):  34%|███▍      | 10092/29837 [00:00<00:00, 35231.09 examples/s]Map (num_proc=10):  49%|████▊     | 14478/29837 [00:00<00:00, 36805.30 examples/s]Map (num_proc=10):  69%|██████▊   | 20464/29837 [00:00<00:00, 42117.98 examples/s]Map (num_proc=10):  83%|████████▎ | 24710/29837 [00:00<00:00, 38237.49 examples/s]Map (num_proc=10):  98%|█████████▊| 29111/29837 [00:00<00:00, 38413.00 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27918.14 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   9%|▉         | 408/4475 [00:00<00:01, 3677.91 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 23738.90 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 13906.29 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 257/12726 [00:00<00:05, 2298.99 examples/s]Map (num_proc=10):  34%|███▍      | 4379/12726 [00:00<00:00, 23714.11 examples/s]Map (num_proc=10):  60%|██████    | 7654/12726 [00:00<00:00, 27660.94 examples/s]Map (num_proc=10):  84%|████████▎ | 10658/12726 [00:00<00:00, 17312.13 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2196.47 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 175/4241 [00:00<00:02, 1543.45 examples/s]Map (num_proc=10):  70%|███████   | 2983/4241 [00:00<00:00, 15681.58 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2127.34 examples/s] 
2023-11-08 10:56:23 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:56:24 - INFO :       Loss = 14.421875
2023-11-08 10:56:26 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:56:26 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:56:27 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:56:27 - INFO :       
==================Finish================

2023-11-08 10:56:27 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:56:27 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:56:27 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 5
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.00s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.16s/it]
2023-11-08 10:56:40 - INFO :       Use taylor pruner...
2023-11-08 10:56:40 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:56:40 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:56:41 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 376/9741 [00:00<00:02, 3382.84 examples/s]Map (num_proc=10):  57%|█████▋    | 5514/9741 [00:00<00:00, 30036.61 examples/s]Map (num_proc=10):  95%|█████████▌| 9259/9741 [00:00<00:00, 33111.45 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22199.19 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3505.44 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4873.92 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 295/99842 [00:00<00:42, 2325.92 examples/s]Map (num_proc=10):   4%|▍         | 3881/99842 [00:00<00:04, 19955.74 examples/s]Map (num_proc=10):   8%|▊         | 8436/99842 [00:00<00:03, 30287.30 examples/s]Map (num_proc=10):  13%|█▎        | 12501/99842 [00:00<00:02, 33704.26 examples/s]Map (num_proc=10):  18%|█▊        | 17809/99842 [00:00<00:02, 39886.71 examples/s]Map (num_proc=10):  23%|██▎       | 22907/99842 [00:00<00:01, 43496.58 examples/s]Map (num_proc=10):  28%|██▊       | 28409/99842 [00:00<00:01, 46498.11 examples/s]Map (num_proc=10):  34%|███▍      | 34225/99842 [00:00<00:01, 48868.03 examples/s]Map (num_proc=10):  40%|███▉      | 39552/99842 [00:00<00:01, 48859.55 examples/s]Map (num_proc=10):  45%|████▍     | 44882/99842 [00:01<00:01, 49967.49 examples/s]Map (num_proc=10):  50%|█████     | 50088/99842 [00:01<00:01, 49344.70 examples/s]Map (num_proc=10):  55%|█████▌    | 55217/99842 [00:01<00:00, 49831.36 examples/s]Map (num_proc=10):  61%|██████    | 60728/99842 [00:01<00:00, 51336.19 examples/s]Map (num_proc=10):  66%|██████▌   | 65976/99842 [00:01<00:00, 51181.63 examples/s]Map (num_proc=10):  72%|███████▏  | 71418/99842 [00:01<00:00, 50380.55 examples/s]Map (num_proc=10):  77%|███████▋  | 76631/99842 [00:01<00:00, 47446.25 examples/s]Map (num_proc=10):  82%|████████▏ | 81786/99842 [00:01<00:00, 48348.23 examples/s]Map (num_proc=10):  87%|████████▋ | 86821/99842 [00:01<00:00, 48528.93 examples/s]Map (num_proc=10):  92%|█████████▏| 91900/99842 [00:02<00:00, 48304.29 examples/s]Map (num_proc=10):  97%|█████████▋| 97183/99842 [00:02<00:00, 42786.81 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11729.05 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1493.13 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5238.02 examples/s]
2023-11-08 10:56:54 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:56:55 - INFO :       Loss = 11.5
2023-11-08 10:56:58 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:56:58 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:56:58 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:56:58 - INFO :       
==================Finish================

2023-11-08 10:56:58 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:56:58 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:56:58 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.49s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.23s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.42s/it]
2023-11-08 10:57:11 - INFO :       Use taylor pruner...
2023-11-08 10:57:11 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:11 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:11 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 385/9741 [00:00<00:02, 3567.65 examples/s]Map (num_proc=10):  65%|██████▌   | 6373/9741 [00:00<00:00, 34886.40 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22484.46 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2428.10 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4609.50 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 340/29837 [00:00<00:09, 3005.21 examples/s]Map (num_proc=10):  19%|█▉        | 5779/29837 [00:00<00:00, 31314.17 examples/s]Map (num_proc=10):  33%|███▎      | 9785/29837 [00:00<00:00, 33885.98 examples/s]Map (num_proc=10):  45%|████▍     | 13356/29837 [00:00<00:00, 33504.49 examples/s]Map (num_proc=10):  64%|██████▍   | 19166/29837 [00:00<00:00, 41535.44 examples/s]Map (num_proc=10):  79%|███████▊  | 23437/29837 [00:00<00:00, 41815.06 examples/s]Map (num_proc=10):  93%|█████████▎| 27787/29837 [00:00<00:00, 37771.56 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 29918.14 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 300/4475 [00:00<00:01, 2631.11 examples/s]Map (num_proc=10):  95%|█████████▍| 4240/4475 [00:00<00:00, 22009.82 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12863.66 examples/s]
2023-11-08 10:57:17 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:57:17 - INFO :       Loss = 14.1640625
2023-11-08 10:57:19 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:57:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:57:20 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 10:57:20 - INFO :       
==================Finish================

2023-11-08 10:57:20 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 10:57:20 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:57:20 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.95s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.46s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.68s/it]
2023-11-08 10:57:33 - INFO :       Use taylor pruner...
2023-11-08 10:57:33 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:33 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:34 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 360/9741 [00:00<00:03, 3018.02 examples/s]Map (num_proc=10):  58%|█████▊    | 5614/9741 [00:00<00:00, 29597.00 examples/s]Map (num_proc=10):  95%|█████████▍| 9241/9741 [00:00<00:00, 31965.33 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20373.52 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|█▉        | 244/1221 [00:00<00:00, 2272.26 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4480.08 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 138/684 [00:00<00:00, 1376.75 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2669.50 examples/s]
2023-11-08 10:57:38 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:57:38 - INFO :       Loss = 13.890625
2023-11-08 10:57:41 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:57:41 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:57:42 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 10:57:42 - INFO :       
==================Finish================

2023-11-08 10:57:42 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:57:42 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:57:42 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.73s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.29s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.51s/it]
2023-11-08 10:57:54 - INFO :       Use taylor pruner...
2023-11-08 10:57:54 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:54 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:57:55 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 371/9741 [00:00<00:02, 3456.32 examples/s]Map (num_proc=10):  63%|██████▎   | 6169/9741 [00:00<00:00, 34133.59 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 29137.55 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21055.51 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4086.99 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4939.67 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 258/12726 [00:00<00:06, 2067.14 examples/s]Map (num_proc=10):  29%|██▊       | 3647/12726 [00:00<00:00, 18882.51 examples/s]Map (num_proc=10):  52%|█████▏    | 6589/12726 [00:00<00:00, 23254.22 examples/s]Map (num_proc=10):  72%|███████▏  | 9148/12726 [00:00<00:00, 19268.57 examples/s]Map (num_proc=10):  88%|████████▊ | 11247/12726 [00:00<00:00, 18284.52 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2240.67 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 211/4241 [00:00<00:02, 1608.73 examples/s]Map (num_proc=10):  67%|██████▋   | 2846/4241 [00:00<00:00, 14360.28 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2122.97 examples/s] 
2023-11-08 10:58:07 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:58:07 - INFO :       Loss = 14.828125
2023-11-08 10:58:10 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:58:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:58:11 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 10:58:11 - INFO :       
==================Finish================

2023-11-08 10:58:11 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 10:58:11 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:58:11 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.52s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.27s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.46s/it]
2023-11-08 10:58:24 - INFO :       Use taylor pruner...
2023-11-08 10:58:24 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:58:24 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:58:25 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 459/99842 [00:00<00:24, 4107.29 examples/s]Map (num_proc=10):   6%|▌         | 6058/99842 [00:00<00:02, 33198.98 examples/s]Map (num_proc=10):  11%|█▏        | 11248/99842 [00:00<00:02, 41379.83 examples/s]Map (num_proc=10):  16%|█▌        | 16092/99842 [00:00<00:01, 44112.37 examples/s]Map (num_proc=10):  22%|██▏       | 21698/99842 [00:00<00:01, 48358.84 examples/s]Map (num_proc=10):  28%|██▊       | 27751/99842 [00:00<00:01, 52442.34 examples/s]Map (num_proc=10):  33%|███▎      | 33214/99842 [00:00<00:01, 51948.78 examples/s]Map (num_proc=10):  39%|███▉      | 39193/99842 [00:00<00:01, 54272.59 examples/s]Map (num_proc=10):  45%|████▍     | 44768/99842 [00:00<00:01, 54621.74 examples/s]Map (num_proc=10):  51%|█████     | 50545/99842 [00:01<00:00, 54444.55 examples/s]Map (num_proc=10):  57%|█████▋    | 57005/99842 [00:01<00:00, 56299.23 examples/s]Map (num_proc=10):  63%|██████▎   | 62894/99842 [00:01<00:00, 55781.88 examples/s]Map (num_proc=10):  69%|██████▊   | 68546/99842 [00:01<00:00, 55376.62 examples/s]Map (num_proc=10):  75%|███████▍  | 74393/99842 [00:01<00:00, 55594.02 examples/s]Map (num_proc=10):  81%|████████  | 80480/99842 [00:01<00:00, 57103.03 examples/s]Map (num_proc=10):  87%|████████▋ | 86616/99842 [00:01<00:00, 54334.92 examples/s]Map (num_proc=10):  92%|█████████▏| 92194/99842 [00:01<00:00, 52701.84 examples/s]Map (num_proc=10):  98%|█████████▊| 97681/99842 [00:01<00:00, 40858.53 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:07<00:00, 12834.88 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4434.63 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6133.25 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 254/12726 [00:00<00:05, 2121.25 examples/s]Map (num_proc=10):  37%|███▋      | 4760/12726 [00:00<00:00, 25461.44 examples/s]Map (num_proc=10):  62%|██████▏   | 7871/12726 [00:00<00:00, 27095.74 examples/s]Map (num_proc=10):  85%|████████▌ | 10846/12726 [00:00<00:00, 19027.28 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2298.00 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 234/4241 [00:00<00:02, 1763.52 examples/s]Map (num_proc=10):  65%|██████▍   | 2736/4241 [00:00<00:00, 13650.71 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2322.13 examples/s] 
2023-11-08 10:58:44 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:58:45 - INFO :       Loss = 11.765625
2023-11-08 10:58:47 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:58:47 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:58:48 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 10:58:48 - INFO :       
==================Finish================

2023-11-08 10:58:48 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 10:58:48 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:58:48 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.50s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.20s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.40s/it]
2023-11-08 10:59:00 - INFO :       Use taylor pruner...
2023-11-08 10:59:00 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:59:00 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:59:01 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 423/29837 [00:00<00:08, 3334.16 examples/s]Map (num_proc=10):  21%|██        | 6212/29837 [00:00<00:00, 32161.42 examples/s]Map (num_proc=10):  33%|███▎      | 9939/29837 [00:00<00:00, 32067.99 examples/s]Map (num_proc=10):  49%|████▉     | 14639/29837 [00:00<00:00, 36355.79 examples/s]Map (num_proc=10):  69%|██████▉   | 20670/29837 [00:00<00:00, 41661.27 examples/s]Map (num_proc=10):  85%|████████▌ | 25379/29837 [00:00<00:00, 42601.01 examples/s]Map (num_proc=10): 100%|█████████▉| 29693/29837 [00:00<00:00, 30594.60 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 29050.60 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 360/4475 [00:00<00:01, 2975.89 examples/s]Map (num_proc=10):  88%|████████▊ | 3955/4475 [00:00<00:00, 20778.16 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12479.85 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 187/12726 [00:00<00:08, 1504.35 examples/s]Map (num_proc=10):  24%|██▍       | 3055/12726 [00:00<00:00, 15789.36 examples/s]Map (num_proc=10):  51%|█████     | 6472/12726 [00:00<00:00, 23396.95 examples/s]Map (num_proc=10):  70%|███████   | 8955/12726 [00:00<00:00, 19505.66 examples/s]Map (num_proc=10):  87%|████████▋ | 11108/12726 [00:00<00:00, 15239.05 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2251.47 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 227/4241 [00:00<00:02, 1948.67 examples/s]Map (num_proc=10):  77%|███████▋  | 3258/4241 [00:00<00:00, 17190.63 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2133.17 examples/s] 
2023-11-08 10:59:13 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:59:14 - INFO :       Loss = 14.421875
2023-11-08 10:59:16 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:59:16 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:59:17 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 10:59:17 - INFO :       
==================Finish================

2023-11-08 10:59:17 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 10:59:17 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:59:17 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 6
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.89s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.45s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.67s/it]
2023-11-08 10:59:31 - INFO :       Use taylor pruner...
2023-11-08 10:59:31 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:59:31 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 10:59:31 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 379/9741 [00:00<00:02, 3190.84 examples/s]Map (num_proc=10):  58%|█████▊    | 5640/9741 [00:00<00:00, 29579.77 examples/s]Map (num_proc=10):  96%|█████████▌| 9323/9741 [00:00<00:00, 32684.58 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19944.42 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3570.91 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4838.48 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 430/99842 [00:00<00:27, 3656.79 examples/s]Map (num_proc=10):   5%|▍         | 4923/99842 [00:00<00:03, 25922.37 examples/s]Map (num_proc=10):  11%|█         | 11016/99842 [00:00<00:02, 41112.13 examples/s]Map (num_proc=10):  16%|█▌        | 16025/99842 [00:00<00:01, 43873.21 examples/s]Map (num_proc=10):  23%|██▎       | 22623/99842 [00:00<00:01, 50988.37 examples/s]Map (num_proc=10):  28%|██▊       | 28100/99842 [00:00<00:01, 50169.57 examples/s]Map (num_proc=10):  34%|███▍      | 34385/99842 [00:00<00:01, 52332.16 examples/s]Map (num_proc=10):  40%|███▉      | 39904/99842 [00:00<00:01, 53082.25 examples/s]Map (num_proc=10):  46%|████▌     | 46005/99842 [00:00<00:00, 55433.09 examples/s]Map (num_proc=10):  52%|█████▏    | 51775/99842 [00:01<00:00, 54130.91 examples/s]Map (num_proc=10):  57%|█████▋    | 57233/99842 [00:01<00:00, 53021.41 examples/s]Map (num_proc=10):  64%|██████▍   | 63837/99842 [00:01<00:00, 55836.47 examples/s]Map (num_proc=10):  70%|███████   | 70233/99842 [00:01<00:00, 58155.92 examples/s]Map (num_proc=10):  76%|███████▋  | 76369/99842 [00:01<00:00, 56490.68 examples/s]Map (num_proc=10):  82%|████████▏ | 82095/99842 [00:01<00:00, 52599.84 examples/s]Map (num_proc=10):  88%|████████▊ | 87807/99842 [00:01<00:00, 52255.06 examples/s]Map (num_proc=10):  94%|█████████▎| 93356/99842 [00:01<00:00, 50307.72 examples/s]Map (num_proc=10):  99%|█████████▉| 98715/99842 [00:06<00:00, 4077.92 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:07<00:00, 13271.18 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:01, 1290.72 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5351.90 examples/s]
2023-11-08 10:59:43 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 10:59:44 - INFO :       Loss = 11.5
2023-11-08 10:59:47 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 10:59:47 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 10:59:47 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 10:59:47 - INFO :       
==================Finish================

2023-11-08 10:59:47 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 10:59:47 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 10:59:47 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.61s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.28s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.48s/it]
2023-11-08 11:00:01 - INFO :       Use taylor pruner...
2023-11-08 11:00:01 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:01 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:01 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 350/9741 [00:00<00:02, 3206.48 examples/s]Map (num_proc=10):  66%|██████▋   | 6457/9741 [00:00<00:00, 35832.82 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 22268.02 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3370.70 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4564.02 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 301/29837 [00:00<00:10, 2687.75 examples/s]Map (num_proc=10):  19%|█▉        | 5619/29837 [00:00<00:00, 30281.12 examples/s]Map (num_proc=10):  30%|██▉       | 8926/29837 [00:00<00:00, 30110.47 examples/s]Map (num_proc=10):  47%|████▋     | 14013/29837 [00:00<00:00, 37463.73 examples/s]Map (num_proc=10):  63%|██████▎   | 18862/29837 [00:00<00:00, 39534.21 examples/s]Map (num_proc=10):  80%|████████  | 24006/29837 [00:00<00:00, 41524.84 examples/s]Map (num_proc=10):  95%|█████████▌| 28401/29837 [00:00<00:00, 41204.24 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27044.59 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 301/4475 [00:00<00:01, 2824.43 examples/s]Map (num_proc=10):  82%|████████▏ | 3657/4475 [00:00<00:00, 20134.00 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12823.63 examples/s]
2023-11-08 11:00:07 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:00:07 - INFO :       Loss = 14.1640625
2023-11-08 11:00:10 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:00:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:00:10 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 11:00:10 - INFO :       
==================Finish================

2023-11-08 11:00:10 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:00:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:00:10 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.91s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.40s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.63s/it]
2023-11-08 11:00:24 - INFO :       Use taylor pruner...
2023-11-08 11:00:24 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:24 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:25 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 362/9741 [00:00<00:03, 2920.00 examples/s]Map (num_proc=10):  56%|█████▌    | 5474/9741 [00:00<00:00, 28686.90 examples/s]Map (num_proc=10):  93%|█████████▎| 9085/9741 [00:00<00:00, 31845.65 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20558.64 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:00, 1135.18 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4602.97 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 138/684 [00:00<00:00, 1339.81 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2612.82 examples/s]
2023-11-08 11:00:29 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:00:29 - INFO :       Loss = 13.890625
2023-11-08 11:00:32 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:00:32 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:00:33 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 11:00:33 - INFO :       
==================Finish================

2023-11-08 11:00:33 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:00:33 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:00:33 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.96s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.35s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.60s/it]
2023-11-08 11:00:47 - INFO :       Use taylor pruner...
2023-11-08 11:00:47 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:47 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:00:47 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 369/9741 [00:00<00:02, 3447.40 examples/s]Map (num_proc=10):  66%|██████▋   | 6475/9741 [00:00<00:00, 35273.01 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21538.52 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3429.31 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4898.21 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 257/12726 [00:00<00:06, 1835.37 examples/s]Map (num_proc=10):  35%|███▍      | 4409/12726 [00:00<00:00, 21494.78 examples/s]Map (num_proc=10):  64%|██████▎   | 8095/12726 [00:00<00:00, 27439.52 examples/s]Map (num_proc=10):  87%|████████▋ | 11128/12726 [00:00<00:00, 16627.70 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2091.83 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 216/4241 [00:00<00:02, 1878.08 examples/s]Map (num_proc=10):  77%|███████▋  | 3279/4241 [00:00<00:00, 16812.15 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2086.18 examples/s] 
2023-11-08 11:00:59 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:01:00 - INFO :       Loss = 14.828125
2023-11-08 11:01:02 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:01:02 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:01:03 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 11:01:03 - INFO :       
==================Finish================

2023-11-08 11:01:03 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:01:03 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:01:03 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.44s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.16s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.36s/it]
2023-11-08 11:01:16 - INFO :       Use taylor pruner...
2023-11-08 11:01:16 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:01:16 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:01:17 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 323/99842 [00:00<00:34, 2917.64 examples/s]Map (num_proc=10):   7%|▋         | 6588/99842 [00:00<00:02, 36122.35 examples/s]Map (num_proc=10):  12%|█▏        | 11678/99842 [00:00<00:02, 42624.43 examples/s]Map (num_proc=10):  17%|█▋        | 17288/99842 [00:00<00:01, 47810.21 examples/s]Map (num_proc=10):  23%|██▎       | 23173/99842 [00:00<00:01, 51386.66 examples/s]Map (num_proc=10):  29%|██▊       | 28692/99842 [00:00<00:01, 52605.87 examples/s]Map (num_proc=10):  35%|███▍      | 34487/99842 [00:00<00:01, 54043.48 examples/s]Map (num_proc=10):  40%|████      | 40315/99842 [00:00<00:01, 54851.33 examples/s]Map (num_proc=10):  46%|████▌     | 46150/99842 [00:00<00:00, 55703.31 examples/s]Map (num_proc=10):  53%|█████▎    | 52506/99842 [00:01<00:00, 55774.77 examples/s]Map (num_proc=10):  58%|█████▊    | 58273/99842 [00:01<00:00, 56123.09 examples/s]Map (num_proc=10):  64%|██████▍   | 64337/99842 [00:01<00:00, 57206.50 examples/s]Map (num_proc=10):  70%|███████   | 70112/99842 [00:01<00:00, 56405.48 examples/s]Map (num_proc=10):  76%|███████▌  | 75992/99842 [00:01<00:00, 57011.27 examples/s]Map (num_proc=10):  82%|████████▏ | 81753/99842 [00:01<00:00, 52735.58 examples/s]Map (num_proc=10):  88%|████████▊ | 87406/99842 [00:01<00:00, 53784.59 examples/s]Map (num_proc=10):  93%|█████████▎| 93254/99842 [00:01<00:00, 51729.27 examples/s]Map (num_proc=10):  99%|█████████▉| 98724/99842 [00:04<00:00, 5487.72 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:07<00:00, 12565.49 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|█▉        | 306/1531 [00:00<00:00, 3013.96 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6024.11 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 263/12726 [00:00<00:05, 2201.41 examples/s]Map (num_proc=10):  39%|███▉      | 4963/12726 [00:00<00:00, 26214.65 examples/s]Map (num_proc=10):  61%|██████    | 7790/12726 [00:00<00:00, 26655.04 examples/s]Map (num_proc=10):  83%|████████▎ | 10577/12726 [00:00<00:00, 19219.82 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2374.44 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 185/4241 [00:00<00:02, 1562.38 examples/s]Map (num_proc=10):  60%|██████    | 2555/4241 [00:00<00:00, 13552.61 examples/s]Map (num_proc=10):  95%|█████████▌| 4032/4241 [00:01<00:00, 1824.08 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2119.14 examples/s]
2023-11-08 11:01:36 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:01:37 - INFO :       Loss = 11.765625
2023-11-08 11:01:39 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:01:39 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:01:40 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 11:01:40 - INFO :       
==================Finish================

2023-11-08 11:01:40 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:01:40 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:01:40 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.59s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.43s/it]
2023-11-08 11:01:53 - INFO :       Use taylor pruner...
2023-11-08 11:01:53 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:01:53 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:01:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 398/29837 [00:00<00:09, 3245.27 examples/s]Map (num_proc=10):  15%|█▍        | 4433/29837 [00:00<00:01, 23007.45 examples/s]Map (num_proc=10):  29%|██▉       | 8697/29837 [00:00<00:00, 31188.68 examples/s]Map (num_proc=10):  42%|████▏     | 12475/29837 [00:00<00:00, 32497.92 examples/s]Map (num_proc=10):  61%|██████    | 18073/29837 [00:00<00:00, 39183.80 examples/s]Map (num_proc=10):  77%|███████▋  | 22917/29837 [00:00<00:00, 40796.98 examples/s]Map (num_proc=10):  91%|█████████ | 27106/29837 [00:00<00:00, 40097.14 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 26847.17 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 249/4475 [00:00<00:02, 1877.25 examples/s]Map (num_proc=10):  89%|████████▉ | 3989/4475 [00:00<00:00, 18159.56 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 10427.49 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 237/12726 [00:00<00:06, 1834.86 examples/s]Map (num_proc=10):  40%|███▉      | 5063/12726 [00:00<00:00, 25751.36 examples/s]Map (num_proc=10):  63%|██████▎   | 8081/12726 [00:00<00:00, 23070.23 examples/s]Map (num_proc=10):  84%|████████▍ | 10715/12726 [00:00<00:00, 20746.84 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2163.01 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 248/4241 [00:00<00:01, 2277.51 examples/s]Map (num_proc=10):  66%|██████▌   | 2796/4241 [00:00<00:00, 14997.97 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2273.03 examples/s] 
2023-11-08 11:02:07 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:02:08 - INFO :       Loss = 14.421875
2023-11-08 11:02:10 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:02:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:02:11 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 11:02:11 - INFO :       
==================Finish================

2023-11-08 11:02:11 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 11:02:11 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:02:11 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 7
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.69s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.27s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.48s/it]
2023-11-08 11:02:25 - INFO :       Use taylor pruner...
2023-11-08 11:02:25 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:02:25 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:02:26 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 389/9741 [00:00<00:03, 3049.53 examples/s]Map (num_proc=10):  62%|██████▏   | 6070/9741 [00:00<00:00, 30490.59 examples/s]Map (num_proc=10):  97%|█████████▋| 9404/9741 [00:00<00:00, 26463.98 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 17737.02 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1208.27 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4131.58 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 366/99842 [00:00<00:36, 2738.90 examples/s]Map (num_proc=10):   5%|▌         | 5010/99842 [00:00<00:03, 24621.95 examples/s]Map (num_proc=10):   9%|▉         | 9361/99842 [00:00<00:02, 31791.17 examples/s]Map (num_proc=10):  13%|█▎        | 13082/99842 [00:00<00:02, 33785.11 examples/s]Map (num_proc=10):  18%|█▊        | 17889/99842 [00:00<00:02, 38479.28 examples/s]Map (num_proc=10):  23%|██▎       | 22814/99842 [00:00<00:01, 41985.51 examples/s]Map (num_proc=10):  27%|██▋       | 27150/99842 [00:00<00:01, 41929.19 examples/s]Map (num_proc=10):  32%|███▏      | 31527/99842 [00:00<00:01, 42165.43 examples/s]Map (num_proc=10):  36%|███▋      | 36201/99842 [00:00<00:01, 43511.96 examples/s]Map (num_proc=10):  41%|████      | 40988/99842 [00:01<00:01, 43806.20 examples/s]Map (num_proc=10):  46%|████▌     | 46057/99842 [00:01<00:01, 45840.89 examples/s]Map (num_proc=10):  51%|█████▏    | 51353/99842 [00:01<00:01, 46850.06 examples/s]Map (num_proc=10):  56%|█████▋    | 56305/99842 [00:01<00:00, 46611.33 examples/s]Map (num_proc=10):  62%|██████▏   | 61428/99842 [00:01<00:00, 47919.27 examples/s]Map (num_proc=10):  67%|██████▋   | 66459/99842 [00:01<00:00, 45764.71 examples/s]Map (num_proc=10):  72%|███████▏  | 72382/99842 [00:01<00:00, 48546.47 examples/s]Map (num_proc=10):  78%|███████▊  | 78218/99842 [00:01<00:00, 48738.51 examples/s]Map (num_proc=10):  84%|████████▍ | 83872/99842 [00:01<00:00, 50879.32 examples/s]Map (num_proc=10):  89%|████████▉ | 89334/99842 [00:02<00:00, 49529.57 examples/s]Map (num_proc=10):  95%|█████████▍| 94355/99842 [00:02<00:00, 45758.39 examples/s]Map (num_proc=10):  99%|█████████▉| 99123/99842 [00:07<00:00, 3248.97 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11866.21 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:00, 1527.46 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5906.66 examples/s]
2023-11-08 11:02:40 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:02:40 - INFO :       Loss = 11.5
2023-11-08 11:02:43 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:02:43 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:02:44 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 11:02:44 - INFO :       
==================Finish================

2023-11-08 11:02:44 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:02:44 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:02:44 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.90s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.49s/it]
2023-11-08 11:02:57 - INFO :       Use taylor pruner...
2023-11-08 11:02:57 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:02:57 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:02:58 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 385/9741 [00:00<00:02, 3397.62 examples/s]Map (num_proc=10):  63%|██████▎   | 6159/9741 [00:00<00:00, 33663.31 examples/s]Map (num_proc=10): 100%|█████████▉| 9728/9741 [00:00<00:00, 29556.59 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20739.44 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2328.42 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4626.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 304/29837 [00:00<00:11, 2616.94 examples/s]Map (num_proc=10):  21%|██        | 6188/29837 [00:00<00:00, 33144.00 examples/s]Map (num_proc=10):  34%|███▍      | 10171/29837 [00:00<00:00, 35531.51 examples/s]Map (num_proc=10):  48%|████▊     | 14200/29837 [00:00<00:00, 37314.48 examples/s]Map (num_proc=10):  65%|██████▍   | 19320/29837 [00:00<00:00, 40286.80 examples/s]Map (num_proc=10):  81%|████████▏ | 24301/29837 [00:00<00:00, 42942.27 examples/s]Map (num_proc=10):  96%|█████████▋| 28746/29837 [00:00<00:00, 40935.37 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 28267.35 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 293/4475 [00:00<00:01, 2737.22 examples/s]Map (num_proc=10):  88%|████████▊ | 3950/4475 [00:00<00:00, 21413.43 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12359.33 examples/s]
2023-11-08 11:03:03 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:03:04 - INFO :       Loss = 14.1640625
2023-11-08 11:03:06 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:03:06 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:03:07 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 11:03:07 - INFO :       
==================Finish================

2023-11-08 11:03:07 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:03:07 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:03:07 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.70s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.46s/it]
2023-11-08 11:03:20 - INFO :       Use taylor pruner...
2023-11-08 11:03:20 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:03:20 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:03:21 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 385/9741 [00:00<00:02, 3602.61 examples/s]Map (num_proc=10):  49%|████▉     | 4755/9741 [00:00<00:00, 26492.47 examples/s]Map (num_proc=10):  96%|█████████▌| 9354/9741 [00:00<00:00, 33808.27 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20894.33 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:00, 1177.39 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4405.23 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 138/684 [00:00<00:00, 1379.22 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2576.66 examples/s]
2023-11-08 11:03:25 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:03:26 - INFO :       Loss = 13.890625
2023-11-08 11:03:28 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:03:28 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:03:29 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 11:03:29 - INFO :       
==================Finish================

2023-11-08 11:03:29 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:03:29 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:03:29 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.45s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.18s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.37s/it]
2023-11-08 11:03:42 - INFO :       Use taylor pruner...
2023-11-08 11:03:42 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:03:42 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:03:42 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 381/9741 [00:00<00:02, 3183.28 examples/s]Map (num_proc=10):  56%|█████▋    | 5492/9741 [00:00<00:00, 28701.58 examples/s]Map (num_proc=10):  92%|█████████▏| 8974/9741 [00:00<00:00, 30422.95 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19922.52 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:00, 1128.10 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4346.14 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 191/12726 [00:00<00:07, 1659.80 examples/s]Map (num_proc=10):  24%|██▍       | 3089/12726 [00:00<00:00, 16317.16 examples/s]Map (num_proc=10):  53%|█████▎    | 6772/12726 [00:00<00:00, 25170.03 examples/s]Map (num_proc=10):  74%|███████▍  | 9479/12726 [00:00<00:00, 17895.01 examples/s]Map (num_proc=10):  92%|█████████▏| 11679/12726 [00:00<00:00, 17452.99 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2185.31 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 251/4241 [00:00<00:01, 2303.45 examples/s]Map (num_proc=10):  73%|███████▎  | 3096/4241 [00:00<00:00, 3505.83 examples/s]Map (num_proc=10):  84%|████████▍ | 3571/4241 [00:01<00:00, 1797.39 examples/s]Map (num_proc=10):  96%|█████████▌| 4064/4241 [00:01<00:00, 1973.29 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2111.62 examples/s]
2023-11-08 11:03:54 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:03:55 - INFO :       Loss = 14.828125
2023-11-08 11:03:57 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:03:57 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:03:58 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 11:03:58 - INFO :       
==================Finish================

2023-11-08 11:03:58 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:03:58 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:03:58 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.71s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.36s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.56s/it]
2023-11-08 11:04:12 - INFO :       Use taylor pruner...
2023-11-08 11:04:12 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:04:12 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:04:12 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 449/99842 [00:00<00:25, 3913.08 examples/s]Map (num_proc=10):   8%|▊         | 7490/99842 [00:00<00:02, 40683.25 examples/s]Map (num_proc=10):  12%|█▏        | 11887/99842 [00:00<00:02, 40893.16 examples/s]Map (num_proc=10):  19%|█▉        | 18744/99842 [00:00<00:01, 50117.98 examples/s]Map (num_proc=10):  24%|██▍       | 23994/99842 [00:00<00:01, 48857.06 examples/s]Map (num_proc=10):  30%|███       | 30075/99842 [00:00<00:01, 52663.42 examples/s]Map (num_proc=10):  36%|███▌      | 35588/99842 [00:00<00:01, 53430.74 examples/s]Map (num_proc=10):  42%|████▏     | 41656/99842 [00:00<00:01, 54589.27 examples/s]Map (num_proc=10):  48%|████▊     | 47878/99842 [00:00<00:00, 56876.85 examples/s]Map (num_proc=10):  54%|█████▍    | 53868/99842 [00:01<00:00, 54159.59 examples/s]Map (num_proc=10):  60%|██████    | 59908/99842 [00:01<00:00, 55947.17 examples/s]Map (num_proc=10):  66%|██████▌   | 65953/99842 [00:01<00:00, 57233.46 examples/s]Map (num_proc=10):  72%|███████▏  | 71840/99842 [00:01<00:00, 55198.95 examples/s]Map (num_proc=10):  78%|███████▊  | 77463/99842 [00:01<00:00, 55155.22 examples/s]Map (num_proc=10):  84%|████████▍ | 83618/99842 [00:01<00:00, 56972.46 examples/s]Map (num_proc=10):  90%|████████▉ | 89681/99842 [00:01<00:00, 54334.85 examples/s]Map (num_proc=10):  95%|█████████▌| 95165/99842 [00:01<00:00, 50400.60 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12475.13 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:01, 1324.77 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5191.17 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 175/12726 [00:00<00:10, 1225.36 examples/s]Map (num_proc=10):  26%|██▌       | 3319/12726 [00:00<00:00, 16008.34 examples/s]Map (num_proc=10):  57%|█████▋    | 7251/12726 [00:00<00:00, 25257.04 examples/s]Map (num_proc=10):  79%|███████▉  | 10046/12726 [00:00<00:00, 15595.95 examples/s]Map (num_proc=10):  96%|█████████▌| 12220/12726 [00:05<00:00, 1524.98 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2178.73 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 237/4241 [00:00<00:01, 2030.15 examples/s]Map (num_proc=10):  76%|███████▌  | 3230/4241 [00:00<00:00, 16601.10 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 2403.40 examples/s] 
2023-11-08 11:04:32 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:04:32 - INFO :       Loss = 11.765625
2023-11-08 11:04:35 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:04:35 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:04:35 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 11:04:35 - INFO :       
==================Finish================

2023-11-08 11:04:35 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:04:35 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:04:35 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.50s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.42s/it]
2023-11-08 11:04:48 - INFO :       Use taylor pruner...
2023-11-08 11:04:48 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:04:48 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:04:49 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 423/29837 [00:00<00:08, 3446.08 examples/s]Map (num_proc=10):  20%|██        | 6115/29837 [00:00<00:00, 32204.42 examples/s]Map (num_proc=10):  33%|███▎      | 9834/29837 [00:00<00:00, 33477.74 examples/s]Map (num_proc=10):  48%|████▊     | 14459/29837 [00:00<00:00, 38035.32 examples/s]Map (num_proc=10):  67%|██████▋   | 19973/29837 [00:00<00:00, 43554.11 examples/s]Map (num_proc=10):  83%|████████▎ | 24622/29837 [00:00<00:00, 42754.91 examples/s]Map (num_proc=10):  98%|█████████▊| 29249/29837 [00:00<00:00, 39505.82 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 31446.07 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 243/4475 [00:00<00:02, 1909.28 examples/s]Map (num_proc=10):  99%|█████████▉| 4432/4475 [00:00<00:00, 22716.71 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 12688.41 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 251/12726 [00:00<00:06, 2037.26 examples/s]Map (num_proc=10):  33%|███▎      | 4179/12726 [00:00<00:00, 21857.54 examples/s]Map (num_proc=10):  53%|█████▎    | 6794/12726 [00:00<00:00, 23503.20 examples/s]Map (num_proc=10):  73%|███████▎  | 9273/12726 [00:00<00:00, 14698.74 examples/s]Map (num_proc=10):  91%|█████████ | 11527/12726 [00:00<00:00, 16650.57 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2317.12 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 247/4241 [00:00<00:02, 1940.32 examples/s]Map (num_proc=10):  56%|█████▋    | 2395/4241 [00:00<00:00, 11515.87 examples/s]Map (num_proc=10):  85%|████████▍ | 3602/4241 [00:02<00:00, 1469.96 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 1849.17 examples/s]
2023-11-08 11:05:02 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:05:02 - INFO :       Loss = 14.421875
2023-11-08 11:05:05 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:05:05 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:05:06 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 11:05:06 - INFO :       
==================Finish================

2023-11-08 11:05:06 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 11:05:06 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:05:06 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 8
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.08s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.54s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.77s/it]
2023-11-08 11:05:20 - INFO :       Use taylor pruner...
2023-11-08 11:05:20 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:05:20 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:05:21 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 260/9741 [00:00<00:04, 2084.28 examples/s]Map (num_proc=10):  43%|████▎     | 4147/9741 [00:00<00:00, 20447.83 examples/s]Map (num_proc=10):  80%|███████▉  | 7745/9741 [00:00<00:00, 26147.61 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 17123.38 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:01, 948.68 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4349.86 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 374/99842 [00:00<00:30, 3219.79 examples/s]Map (num_proc=10):   4%|▍         | 3753/99842 [00:00<00:04, 19772.51 examples/s]Map (num_proc=10):   8%|▊         | 8451/99842 [00:00<00:02, 31630.22 examples/s]Map (num_proc=10):  12%|█▏        | 12295/99842 [00:00<00:02, 34234.17 examples/s]Map (num_proc=10):  17%|█▋        | 17192/99842 [00:00<00:02, 39445.08 examples/s]Map (num_proc=10):  22%|██▏       | 22141/99842 [00:00<00:01, 42799.27 examples/s]Map (num_proc=10):  27%|██▋       | 26935/99842 [00:00<00:01, 43540.57 examples/s]Map (num_proc=10):  33%|███▎      | 32626/99842 [00:00<00:01, 45893.47 examples/s]Map (num_proc=10):  38%|███▊      | 37572/99842 [00:00<00:01, 43730.69 examples/s]Map (num_proc=10):  43%|████▎     | 42675/99842 [00:01<00:01, 44865.57 examples/s]Map (num_proc=10):  48%|████▊     | 47483/99842 [00:01<00:01, 43685.32 examples/s]Map (num_proc=10):  52%|█████▏    | 51999/99842 [00:01<00:01, 44032.26 examples/s]Map (num_proc=10):  57%|█████▋    | 57134/99842 [00:01<00:00, 45558.13 examples/s]Map (num_proc=10):  62%|██████▏   | 62071/99842 [00:01<00:00, 46605.41 examples/s]Map (num_proc=10):  67%|██████▋   | 66798/99842 [00:01<00:00, 43454.57 examples/s]Map (num_proc=10):  72%|███████▏  | 71897/99842 [00:01<00:00, 45155.10 examples/s]Map (num_proc=10):  77%|███████▋  | 77301/99842 [00:01<00:00, 47599.50 examples/s]Map (num_proc=10):  83%|████████▎ | 82398/99842 [00:01<00:00, 47882.18 examples/s]Map (num_proc=10):  88%|████████▊ | 87396/99842 [00:02<00:00, 47005.50 examples/s]Map (num_proc=10):  93%|█████████▎| 92410/99842 [00:02<00:00, 47879.76 examples/s]Map (num_proc=10):  98%|█████████▊| 97487/99842 [00:02<00:00, 43589.95 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 11692.94 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1409.25 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5255.72 examples/s]
2023-11-08 11:05:35 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:05:36 - INFO :       Loss = 11.5
2023-11-08 11:05:39 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:05:39 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:05:40 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 11:05:40 - INFO :       
==================Finish================

2023-11-08 11:05:40 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:05:40 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:05:40 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.51s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.74s/it]
2023-11-08 11:05:54 - INFO :       Use taylor pruner...
2023-11-08 11:05:54 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:05:54 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:05:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 391/9741 [00:00<00:02, 3543.54 examples/s]Map (num_proc=10):  58%|█████▊    | 5639/9741 [00:00<00:00, 30884.97 examples/s]Map (num_proc=10):  96%|█████████▌| 9307/9741 [00:00<00:00, 29579.18 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 21007.92 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|██▉       | 366/1221 [00:00<00:00, 3539.21 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4806.20 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 340/29837 [00:00<00:10, 2812.72 examples/s]Map (num_proc=10):  16%|█▌        | 4846/29837 [00:00<00:00, 25415.95 examples/s]Map (num_proc=10):  33%|███▎      | 9734/29837 [00:00<00:00, 33937.00 examples/s]Map (num_proc=10):  49%|████▉     | 14551/29837 [00:00<00:00, 38586.04 examples/s]Map (num_proc=10):  63%|██████▎   | 18929/29837 [00:00<00:00, 40340.58 examples/s]Map (num_proc=10):  78%|███████▊  | 23338/29837 [00:00<00:00, 38394.67 examples/s]Map (num_proc=10):  94%|█████████▍| 28025/29837 [00:00<00:00, 40874.94 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 26635.75 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 310/4475 [00:00<00:01, 2755.69 examples/s]Map (num_proc=10):  84%|████████▎ | 3746/4475 [00:00<00:00, 20214.43 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 10974.46 examples/s]
2023-11-08 11:06:00 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:06:00 - INFO :       Loss = 14.1640625
2023-11-08 11:06:03 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:06:03 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:06:04 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 11:06:04 - INFO :       
==================Finish================

2023-11-08 11:06:04 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:06:04 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:06:04 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.48s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.21s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.40s/it]
2023-11-08 11:06:17 - INFO :       Use taylor pruner...
2023-11-08 11:06:17 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:06:17 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:06:18 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 337/9741 [00:00<00:03, 2635.19 examples/s]Map (num_proc=10):  56%|█████▌    | 5417/9741 [00:00<00:00, 27877.48 examples/s]Map (num_proc=10):  90%|████████▉ | 8719/9741 [00:00<00:00, 29593.80 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 19070.28 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:01, 857.06 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 3940.96 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 207/684 [00:00<00:00, 1940.76 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2634.76 examples/s]
2023-11-08 11:06:22 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:06:22 - INFO :       Loss = 13.890625
2023-11-08 11:06:25 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:06:25 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:06:25 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 11:06:25 - INFO :       
==================Finish================

2023-11-08 11:06:25 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:06:25 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:06:25 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.56s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.24s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.44s/it]
2023-11-08 11:06:39 - INFO :       Use taylor pruner...
2023-11-08 11:06:39 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:06:39 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:06:40 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 332/9741 [00:00<00:03, 2697.02 examples/s]Map (num_proc=10):  50%|█████     | 4919/9741 [00:00<00:00, 25807.96 examples/s]Map (num_proc=10):  83%|████████▎ | 8105/9741 [00:00<00:00, 28185.54 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 17929.10 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:01, 958.74 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 3765.66 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 219/12726 [00:00<00:07, 1581.94 examples/s]Map (num_proc=10):  27%|██▋       | 3397/12726 [00:00<00:00, 16895.35 examples/s]Map (num_proc=10):  50%|█████     | 6408/12726 [00:00<00:00, 22368.63 examples/s]Map (num_proc=10):  70%|███████   | 8921/12726 [00:00<00:00, 19345.11 examples/s]Map (num_proc=10):  87%|████████▋ | 11087/12726 [00:00<00:00, 14347.19 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2119.14 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 247/4241 [00:00<00:01, 2000.53 examples/s]Map (num_proc=10):  49%|████▊     | 2062/4241 [00:00<00:00, 10380.09 examples/s]Map (num_proc=10):  76%|███████▌  | 3219/4241 [00:01<00:00, 1701.40 examples/s] Map (num_proc=10):  93%|█████████▎| 3964/4241 [00:01<00:00, 1892.10 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2106.10 examples/s]
2023-11-08 11:06:52 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:06:53 - INFO :       Loss = 14.828125
2023-11-08 11:06:56 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:06:56 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:06:56 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 11:06:56 - INFO :       
==================Finish================

2023-11-08 11:06:56 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:06:56 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:06:56 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:04<00:04,  4.28s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.63s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.88s/it]
2023-11-08 11:07:12 - INFO :       Use taylor pruner...
2023-11-08 11:07:12 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:07:12 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:07:12 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 455/99842 [00:00<00:27, 3658.56 examples/s]Map (num_proc=10):   5%|▌         | 5011/99842 [00:00<00:03, 26041.09 examples/s]Map (num_proc=10):  10%|█         | 10473/99842 [00:00<00:02, 38107.98 examples/s]Map (num_proc=10):  15%|█▌        | 15346/99842 [00:00<00:02, 41229.23 examples/s]Map (num_proc=10):  22%|██▏       | 21691/99842 [00:00<00:01, 48921.65 examples/s]Map (num_proc=10):  27%|██▋       | 27113/99842 [00:00<00:01, 50660.24 examples/s]Map (num_proc=10):  34%|███▎      | 33570/99842 [00:00<00:01, 54409.34 examples/s]Map (num_proc=10):  39%|███▉      | 39268/99842 [00:00<00:01, 52959.74 examples/s]Map (num_proc=10):  45%|████▌     | 45149/99842 [00:00<00:00, 54705.10 examples/s]Map (num_proc=10):  51%|█████     | 50687/99842 [00:01<00:00, 54864.26 examples/s]Map (num_proc=10):  56%|█████▋    | 56386/99842 [00:01<00:00, 53627.49 examples/s]Map (num_proc=10):  62%|██████▏   | 61879/99842 [00:01<00:00, 53378.11 examples/s]Map (num_proc=10):  68%|██████▊   | 67578/99842 [00:01<00:00, 51541.09 examples/s]Map (num_proc=10):  73%|███████▎  | 73103/99842 [00:01<00:00, 51421.53 examples/s]Map (num_proc=10):  78%|███████▊  | 78295/99842 [00:01<00:00, 49536.92 examples/s]Map (num_proc=10):  84%|████████▎ | 83558/99842 [00:01<00:00, 50388.82 examples/s]Map (num_proc=10):  89%|████████▉ | 88657/99842 [00:01<00:00, 49153.33 examples/s]Map (num_proc=10):  94%|█████████▍| 93988/99842 [00:02<00:00, 32835.16 examples/s]Map (num_proc=10):  98%|█████████▊| 98275/99842 [00:05<00:00, 4411.16 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12222.74 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1474.68 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5975.56 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 251/12726 [00:00<00:07, 1729.00 examples/s]Map (num_proc=10):  27%|██▋       | 3421/12726 [00:00<00:00, 16591.30 examples/s]Map (num_proc=10):  56%|█████▌    | 7078/12726 [00:00<00:00, 23733.13 examples/s]Map (num_proc=10):  77%|███████▋  | 9818/12726 [00:00<00:00, 18765.66 examples/s]Map (num_proc=10):  95%|█████████▍| 12061/12726 [00:05<00:00, 1386.00 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:05<00:00, 2132.00 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 233/4241 [00:00<00:01, 2018.67 examples/s]Map (num_proc=10):  60%|██████    | 2559/4241 [00:00<00:00, 13721.37 examples/s]Map (num_proc=10):  96%|█████████▌| 4067/4241 [00:01<00:00, 1888.21 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 1995.05 examples/s]
2023-11-08 11:07:33 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:07:33 - INFO :       Loss = 11.765625
2023-11-08 11:07:36 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:07:36 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:07:37 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 11:07:37 - INFO :       
==================Finish================

2023-11-08 11:07:37 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:07:37 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:07:37 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.99s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.48s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:05<00:00,  2.71s/it]
2023-11-08 11:07:52 - INFO :       Use taylor pruner...
2023-11-08 11:07:52 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:07:52 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:07:52 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 369/29837 [00:00<00:11, 2576.96 examples/s]Map (num_proc=10):  18%|█▊        | 5229/29837 [00:00<00:00, 25536.65 examples/s]Map (num_proc=10):  29%|██▊       | 8540/29837 [00:00<00:00, 28509.64 examples/s]Map (num_proc=10):  39%|███▉      | 11782/29837 [00:00<00:00, 29546.24 examples/s]Map (num_proc=10):  52%|█████▏    | 15448/29837 [00:00<00:00, 30961.54 examples/s]Map (num_proc=10):  69%|██████▉   | 20516/29837 [00:00<00:00, 37129.73 examples/s]Map (num_proc=10):  82%|████████▏ | 24369/29837 [00:00<00:00, 35344.86 examples/s]Map (num_proc=10):  94%|█████████▍| 28163/29837 [00:00<00:00, 35074.73 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:01<00:00, 27644.06 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▋         | 289/4475 [00:00<00:02, 2062.70 examples/s]Map (num_proc=10):  79%|███████▊  | 3522/4475 [00:00<00:00, 16870.05 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 10360.45 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 166/12726 [00:00<00:11, 1089.10 examples/s]Map (num_proc=10):  25%|██▌       | 3221/12726 [00:00<00:00, 15204.88 examples/s]Map (num_proc=10):  53%|█████▎    | 6700/12726 [00:00<00:00, 23067.24 examples/s]Map (num_proc=10):  73%|███████▎  | 9289/12726 [00:00<00:00, 19113.88 examples/s]Map (num_proc=10):  90%|█████████ | 11502/12726 [00:00<00:00, 14009.88 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:06<00:00, 2013.81 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 240/4241 [00:00<00:02, 1931.46 examples/s]Map (num_proc=10):  58%|█████▊    | 2450/4241 [00:00<00:00, 12706.52 examples/s]Map (num_proc=10):  92%|█████████▏| 3909/4241 [00:01<00:00, 1761.13 examples/s] Map (num_proc=10): 100%|██████████| 4241/4241 [00:02<00:00, 2029.09 examples/s]
2023-11-08 11:08:06 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:08:06 - INFO :       Loss = 14.421875
2023-11-08 11:08:09 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:08:09 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:08:10 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 11:08:10 - INFO :       
==================Finish================

2023-11-08 11:08:10 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 11:08:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:08:10 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 9
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:03<00:03,  3.22s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  1.87s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:04<00:00,  2.07s/it]
2023-11-08 11:08:21 - INFO :       Use taylor pruner...
2023-11-08 11:08:21 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:08:21 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:08:22 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 357/9741 [00:00<00:02, 3282.32 examples/s]Map (num_proc=10):  69%|██████▉   | 6738/9741 [00:00<00:00, 36894.53 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 23996.51 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3654.09 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4663.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 379/99842 [00:00<00:29, 3401.35 examples/s]Map (num_proc=10):   7%|▋         | 6861/99842 [00:00<00:02, 36767.43 examples/s]Map (num_proc=10):  13%|█▎        | 12604/99842 [00:00<00:01, 43962.08 examples/s]Map (num_proc=10):  19%|█▉        | 18782/99842 [00:00<00:01, 49552.27 examples/s]Map (num_proc=10):  26%|██▌       | 26110/99842 [00:00<00:01, 56869.43 examples/s]Map (num_proc=10):  32%|███▏      | 32001/99842 [00:00<00:01, 56632.65 examples/s]Map (num_proc=10):  38%|███▊      | 37999/99842 [00:00<00:01, 54176.75 examples/s]Map (num_proc=10):  44%|████▍     | 44143/99842 [00:00<00:00, 56281.05 examples/s]Map (num_proc=10):  50%|████▉     | 49821/99842 [00:00<00:00, 55746.82 examples/s]Map (num_proc=10):  57%|█████▋    | 56647/99842 [00:01<00:00, 58589.64 examples/s]Map (num_proc=10):  63%|██████▎   | 62661/99842 [00:01<00:00, 57439.28 examples/s]Map (num_proc=10):  69%|██████▊   | 68429/99842 [00:01<00:00, 57236.14 examples/s]Map (num_proc=10):  74%|███████▍  | 74345/99842 [00:01<00:00, 57793.56 examples/s]Map (num_proc=10):  80%|████████  | 80348/99842 [00:01<00:00, 57458.06 examples/s]Map (num_proc=10):  86%|████████▋ | 86305/99842 [00:01<00:00, 56350.92 examples/s]Map (num_proc=10):  92%|█████████▏| 91975/99842 [00:01<00:00, 56445.03 examples/s]Map (num_proc=10):  98%|█████████▊| 97634/99842 [00:03<00:00, 7638.97 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:08<00:00, 12149.98 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4014.03 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5928.84 examples/s]
2023-11-08 11:08:34 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:08:35 - INFO :       Loss = 11.5
2023-11-08 11:08:38 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:08:38 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:08:38 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3591338124501784e-06
2023-11-08 11:08:38 - INFO :       
==================Finish================

2023-11-08 11:08:38 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:08:38 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:08:38 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.85s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.20s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.30s/it]
2023-11-08 11:08:46 - INFO :       Use taylor pruner...
2023-11-08 11:08:46 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:08:46 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:08:46 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 314/9741 [00:00<00:03, 2990.66 examples/s]Map (num_proc=10):  71%|███████   | 6892/9741 [00:00<00:00, 36104.15 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25808.71 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4648.79 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5074.72 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 319/29837 [00:00<00:10, 2723.66 examples/s]Map (num_proc=10):  20%|██        | 6028/29837 [00:00<00:00, 32562.07 examples/s]Map (num_proc=10):  32%|███▏      | 9644/29837 [00:00<00:00, 32218.03 examples/s]Map (num_proc=10):  51%|█████     | 15230/29837 [00:00<00:00, 40861.36 examples/s]Map (num_proc=10):  67%|██████▋   | 20019/29837 [00:00<00:00, 41734.90 examples/s]Map (num_proc=10):  85%|████████▍ | 25346/29837 [00:00<00:00, 45402.56 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 33598.08 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 266/4475 [00:00<00:01, 2497.18 examples/s]Map (num_proc=10):  99%|█████████▊| 4408/4475 [00:00<00:00, 24561.93 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 13530.14 examples/s]
2023-11-08 11:08:51 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:08:52 - INFO :       Loss = 14.1640625
2023-11-08 11:08:54 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:08:54 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:08:55 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.358252402714478e-06
2023-11-08 11:08:55 - INFO :       
==================Finish================

2023-11-08 11:08:55 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:08:55 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:08:55 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.96s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.32s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.41s/it]
2023-11-08 11:09:02 - INFO :       Use taylor pruner...
2023-11-08 11:09:02 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:02 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:03 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 377/9741 [00:00<00:02, 3546.28 examples/s]Map (num_proc=10):  59%|█████▊    | 5700/9741 [00:00<00:00, 31411.28 examples/s]Map (num_proc=10):  95%|█████████▍| 9234/9741 [00:00<00:00, 33052.29 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 20361.95 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2439.63 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4541.73 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  30%|██▉       | 205/684 [00:00<00:00, 1855.91 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2614.47 examples/s]
2023-11-08 11:09:07 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:09:07 - INFO :       Loss = 13.890625
2023-11-08 11:09:09 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:09:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:09:10 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.358076120767338e-06
2023-11-08 11:09:10 - INFO :       
==================Finish================

2023-11-08 11:09:10 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:09:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:09:10 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:02<00:02,  2.87s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.59s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:03<00:00,  1.78s/it]
2023-11-08 11:09:19 - INFO :       Use taylor pruner...
2023-11-08 11:09:19 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:19 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:19 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 327/9741 [00:00<00:03, 3092.06 examples/s]Map (num_proc=10):  71%|███████   | 6902/9741 [00:00<00:00, 36982.75 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25603.41 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4611.48 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5028.53 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 318/12726 [00:00<00:04, 2711.40 examples/s]Map (num_proc=10):  48%|████▊     | 6120/12726 [00:00<00:00, 32781.78 examples/s]Map (num_proc=10):  76%|███████▌  | 9656/12726 [00:00<00:00, 26146.95 examples/s]Map (num_proc=10): 100%|█████████▉| 12682/12726 [00:04<00:00, 2185.86 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2967.28 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 219/4241 [00:00<00:02, 1995.49 examples/s]Map (num_proc=10):  66%|██████▌   | 2800/4241 [00:00<00:00, 7802.94 examples/s]Map (num_proc=10):  83%|████████▎ | 3499/4241 [00:00<00:00, 3596.31 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3941.81 examples/s]
2023-11-08 11:09:28 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:09:29 - INFO :       Loss = 14.828125
2023-11-08 11:09:31 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:09:31 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:09:32 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.3534927901416952e-06
2023-11-08 11:09:32 - INFO :       
==================Finish================

2023-11-08 11:09:32 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:09:32 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:09:32 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.89s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.18s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.28s/it]
2023-11-08 11:09:39 - INFO :       Use taylor pruner...
2023-11-08 11:09:39 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:39 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:09:40 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 441/99842 [00:00<00:23, 4146.46 examples/s]Map (num_proc=10):   9%|▉         | 9193/99842 [00:00<00:01, 51162.86 examples/s]Map (num_proc=10):  17%|█▋        | 17233/99842 [00:00<00:01, 63902.71 examples/s]Map (num_proc=10):  26%|██▌       | 25697/99842 [00:00<00:01, 70337.08 examples/s]Map (num_proc=10):  35%|███▍      | 34720/99842 [00:00<00:00, 75632.90 examples/s]Map (num_proc=10):  43%|████▎     | 42929/99842 [00:00<00:00, 77751.49 examples/s]Map (num_proc=10):  52%|█████▏    | 51605/99842 [00:00<00:00, 80350.22 examples/s]Map (num_proc=10):  60%|██████    | 60282/99842 [00:00<00:00, 82263.69 examples/s]Map (num_proc=10):  69%|██████▉   | 69002/99842 [00:00<00:00, 83771.78 examples/s]Map (num_proc=10):  78%|███████▊  | 77426/99842 [00:01<00:00, 83866.13 examples/s]Map (num_proc=10):  86%|████████▋ | 86146/99842 [00:01<00:00, 80498.95 examples/s]Map (num_proc=10):  95%|█████████▍| 94442/99842 [00:01<00:00, 76752.21 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:06<00:00, 14713.91 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:01, 1249.85 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5550.75 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 236/12726 [00:00<00:05, 2110.84 examples/s]Map (num_proc=10):  47%|████▋     | 6001/12726 [00:00<00:00, 32900.53 examples/s]Map (num_proc=10):  75%|███████▌  | 9566/12726 [00:00<00:00, 24329.91 examples/s]Map (num_proc=10):  98%|█████████▊| 12447/12726 [00:04<00:00, 2107.18 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2925.26 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 219/4241 [00:00<00:02, 1935.46 examples/s]Map (num_proc=10):  61%|██████▏   | 2605/4241 [00:00<00:00, 6131.59 examples/s]Map (num_proc=10):  73%|███████▎  | 3112/4241 [00:00<00:00, 3258.02 examples/s]Map (num_proc=10):  83%|████████▎ | 3534/4241 [00:00<00:00, 3327.51 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3793.63 examples/s]
2023-11-08 11:09:56 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:09:56 - INFO :       Loss = 11.765625
2023-11-08 11:09:58 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:09:58 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:09:59 - INFO :       mmlu_ScienceQA: Total Sparsity 1.353140226247415e-06
2023-11-08 11:09:59 - INFO :       
==================Finish================

2023-11-08 11:09:59 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:09:59 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:09:59 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.90s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.19s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.30s/it]
2023-11-08 11:10:07 - INFO :       Use taylor pruner...
2023-11-08 11:10:07 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:10:07 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:10:07 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 404/29837 [00:00<00:07, 3862.95 examples/s]Map (num_proc=10):  30%|██▉       | 8864/29837 [00:00<00:00, 49199.64 examples/s]Map (num_proc=10):  54%|█████▍    | 16116/29837 [00:00<00:00, 58372.65 examples/s]Map (num_proc=10):  77%|███████▋  | 22861/29837 [00:00<00:00, 61138.75 examples/s]Map (num_proc=10):  98%|█████████▊| 29234/29837 [00:00<00:00, 57896.18 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43915.00 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 342/4475 [00:00<00:01, 3195.58 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15923.69 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 239/12726 [00:00<00:05, 2211.31 examples/s]Map (num_proc=10):  53%|█████▎    | 6793/12726 [00:00<00:00, 36425.78 examples/s]Map (num_proc=10):  83%|████████▎ | 10527/12726 [00:00<00:00, 24596.84 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2653.75 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 323/4241 [00:00<00:01, 2969.49 examples/s]Map (num_proc=10):  65%|██████▍   | 2737/4241 [00:00<00:00, 5290.32 examples/s]Map (num_proc=10):  76%|███████▌  | 3207/4241 [00:00<00:00, 3243.25 examples/s]Map (num_proc=10):  84%|████████▎ | 3544/4241 [00:01<00:00, 2841.12 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3475.76 examples/s]
2023-11-08 11:10:18 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:10:18 - INFO :       Loss = 14.421875
2023-11-08 11:10:20 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:10:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:10:21 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3587812485558984e-06
2023-11-08 11:10:21 - INFO :       
==================Finish================

2023-11-08 11:10:21 - INFO :       Memory Requirement: 33016.9697265625 MiB

******************************
Generating Samples
******************************
Prepare Validation Dataset
