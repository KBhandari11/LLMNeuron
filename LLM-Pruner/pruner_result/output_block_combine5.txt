/home/bhandk/miniconda3/envs/MLNeuron/lib/python3.9/site-packages/torch/cuda/__init__.py:546: UserWarning: Can't initialize NVML
  warnings.warn("Can't initialize NVML")
2023-11-08 11:10:33 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:10:33 - INFO :       DATASET: commonsense_qa_mmlu
Both
Index 0
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [01:28<01:28, 88.34s/it]Loading checkpoint shards: 100%|██████████| 2/2 [01:28<00:00, 36.73s/it]Loading checkpoint shards: 100%|██████████| 2/2 [01:28<00:00, 44.47s/it]
2023-11-08 11:12:08 - INFO :       Use taylor pruner...
2023-11-08 11:12:08 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:08 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:09 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 359/9741 [00:00<00:03, 3107.10 examples/s]Map (num_proc=10):  80%|███████▉  | 7767/9741 [00:00<00:00, 40853.83 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25860.46 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3626.66 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5092.70 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 403/99842 [00:00<00:26, 3813.75 examples/s]Map (num_proc=10):   9%|▉         | 9267/99842 [00:00<00:01, 51265.65 examples/s]Map (num_proc=10):  17%|█▋        | 17045/99842 [00:00<00:01, 63039.99 examples/s]Map (num_proc=10):  27%|██▋       | 26531/99842 [00:00<00:00, 74357.94 examples/s]Map (num_proc=10):  36%|███▌      | 35604/99842 [00:00<00:00, 80083.81 examples/s]Map (num_proc=10):  44%|████▍     | 44236/99842 [00:00<00:00, 82117.16 examples/s]Map (num_proc=10):  53%|█████▎    | 52732/99842 [00:00<00:00, 82980.44 examples/s]Map (num_proc=10):  62%|██████▏   | 61633/99842 [00:00<00:00, 84877.64 examples/s]Map (num_proc=10):  71%|███████   | 70546/99842 [00:00<00:00, 85066.87 examples/s]Map (num_proc=10):  80%|███████▉  | 79832/99842 [00:01<00:00, 87432.24 examples/s]Map (num_proc=10):  89%|████████▉ | 88813/99842 [00:01<00:00, 83028.03 examples/s]Map (num_proc=10):  98%|█████████▊| 97520/99842 [00:01<00:00, 70119.47 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:06<00:00, 16523.76 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 5792.49 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6104.64 examples/s]
2023-11-08 11:12:21 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:12:21 - INFO :       Loss = 13.4140625
2023-11-08 11:12:24 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:12:24 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:12:25 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:12:25 - INFO :       
==================Finish================

2023-11-08 11:12:25 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:12:25 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:12:25 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:12:32 - INFO :       Use taylor pruner...
2023-11-08 11:12:32 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:32 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:33 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 365/9741 [00:00<00:02, 3320.46 examples/s]Map (num_proc=10):  82%|████████▏ | 7952/9741 [00:00<00:00, 43389.95 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26323.85 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 5064.54 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4398.86 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 356/29837 [00:00<00:08, 3275.89 examples/s]Map (num_proc=10):  28%|██▊       | 8460/29837 [00:00<00:00, 45319.47 examples/s]Map (num_proc=10):  53%|█████▎    | 15704/29837 [00:00<00:00, 56079.10 examples/s]Map (num_proc=10):  76%|███████▌  | 22682/29837 [00:00<00:00, 59609.11 examples/s]Map (num_proc=10):  99%|█████████▉| 29650/29837 [00:00<00:00, 60061.66 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 44429.51 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 349/4475 [00:00<00:01, 3223.69 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15616.83 examples/s]
2023-11-08 11:12:38 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:12:38 - INFO :       Loss = 17.0
2023-11-08 11:12:40 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:12:40 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:12:41 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:12:41 - INFO :       
==================Finish================

2023-11-08 11:12:41 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:12:41 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:12:41 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:12:48 - INFO :       Use taylor pruner...
2023-11-08 11:12:48 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:48 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:12:49 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 476/9741 [00:00<00:02, 4420.30 examples/s]Map (num_proc=10):  84%|████████▍ | 8216/9741 [00:00<00:00, 45038.01 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26182.00 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3627.15 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4823.75 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  60%|██████    | 412/684 [00:00<00:00, 4032.84 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2951.18 examples/s]
2023-11-08 11:12:53 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:12:53 - INFO :       Loss = 16.46875
2023-11-08 11:12:55 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:12:55 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:12:56 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:12:56 - INFO :       
==================Finish================

2023-11-08 11:12:56 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:12:56 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:12:56 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:13:04 - INFO :       Use taylor pruner...
2023-11-08 11:13:04 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:04 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:04 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 454/9741 [00:00<00:02, 4195.88 examples/s]Map (num_proc=10):  86%|████████▌ | 8389/9741 [00:00<00:00, 45478.75 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26934.24 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3662.76 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4984.06 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 353/12726 [00:00<00:04, 3060.53 examples/s]Map (num_proc=10):  52%|█████▏    | 6621/12726 [00:00<00:00, 35917.66 examples/s]Map (num_proc=10):  83%|████████▎ | 10546/12726 [00:02<00:00, 3015.64 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:03<00:00, 2710.38 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3144.52 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 297/4241 [00:00<00:01, 2612.26 examples/s]Map (num_proc=10):  69%|██████▉   | 2946/4241 [00:00<00:00, 7118.59 examples/s]Map (num_proc=10):  84%|████████▎ | 3549/4241 [00:00<00:00, 4385.56 examples/s]Map (num_proc=10):  94%|█████████▍| 4000/4241 [00:00<00:00, 4091.87 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3888.40 examples/s]
2023-11-08 11:13:14 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:13:14 - INFO :       Loss = 17.5625
2023-11-08 11:13:16 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:13:16 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:13:17 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:13:17 - INFO :       
==================Finish================

2023-11-08 11:13:17 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:13:17 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:13:17 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:13:25 - INFO :       Use taylor pruner...
2023-11-08 11:13:25 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:25 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:25 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 612/99842 [00:00<00:18, 5436.30 examples/s]Map (num_proc=10):   9%|▉         | 9326/99842 [00:00<00:01, 50409.64 examples/s]Map (num_proc=10):  17%|█▋        | 17055/99842 [00:00<00:01, 62228.03 examples/s]Map (num_proc=10):  26%|██▌       | 25768/99842 [00:00<00:01, 71771.13 examples/s]Map (num_proc=10):  35%|███▍      | 34711/99842 [00:00<00:00, 76639.75 examples/s]Map (num_proc=10):  44%|████▍     | 44009/99842 [00:00<00:00, 81595.87 examples/s]Map (num_proc=10):  53%|█████▎    | 53045/99842 [00:00<00:00, 82885.77 examples/s]Map (num_proc=10):  62%|██████▏   | 61537/99842 [00:00<00:00, 83496.19 examples/s]Map (num_proc=10):  70%|███████   | 70298/99842 [00:00<00:00, 84759.38 examples/s]Map (num_proc=10):  79%|███████▉  | 79338/99842 [00:01<00:00, 82819.34 examples/s]Map (num_proc=10):  88%|████████▊ | 87734/99842 [00:01<00:00, 79236.97 examples/s]Map (num_proc=10):  96%|█████████▌| 95864/99842 [00:01<00:00, 68246.82 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 16920.84 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  70%|███████   | 1072/1531 [00:00<00:00, 10265.04 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6300.02 examples/s] 
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 236/12726 [00:00<00:06, 2070.98 examples/s]Map (num_proc=10):  48%|████▊     | 6160/12726 [00:00<00:00, 32905.95 examples/s]Map (num_proc=10):  75%|███████▌  | 9559/12726 [00:00<00:00, 22828.31 examples/s]Map (num_proc=10):  96%|█████████▌| 12160/12726 [00:04<00:00, 1866.31 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2762.41 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 225/4241 [00:00<00:02, 2001.60 examples/s]Map (num_proc=10):  61%|██████    | 2581/4241 [00:00<00:00, 5097.88 examples/s]Map (num_proc=10):  72%|███████▏  | 3051/4241 [00:00<00:00, 3175.45 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3992.43 examples/s]
2023-11-08 11:13:41 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:13:41 - INFO :       Loss = 13.7890625
2023-11-08 11:13:44 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:13:44 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:13:44 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:13:44 - INFO :       
==================Finish================

2023-11-08 11:13:44 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:13:44 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:13:44 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:13:53 - INFO :       Use taylor pruner...
2023-11-08 11:13:53 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:53 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:13:53 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 496/29837 [00:00<00:06, 4502.28 examples/s]Map (num_proc=10):  29%|██▊       | 8507/29837 [00:00<00:00, 43859.16 examples/s]Map (num_proc=10):  54%|█████▍    | 16064/29837 [00:00<00:00, 54657.40 examples/s]Map (num_proc=10):  79%|███████▊  | 23451/29837 [00:00<00:00, 61575.36 examples/s]Map (num_proc=10):  99%|█████████▉| 29646/29837 [00:00<00:00, 60568.19 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43756.12 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 361/4475 [00:00<00:01, 3190.25 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15363.79 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 342/12726 [00:00<00:04, 3055.47 examples/s]Map (num_proc=10):  54%|█████▍    | 6843/12726 [00:00<00:00, 35611.72 examples/s]Map (num_proc=10):  83%|████████▎ | 10517/12726 [00:00<00:00, 24636.26 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3104.16 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 225/4241 [00:00<00:02, 1999.36 examples/s]Map (num_proc=10):  63%|██████▎   | 2692/4241 [00:00<00:00, 6718.41 examples/s]Map (num_proc=10):  77%|███████▋  | 3273/4241 [00:00<00:00, 3747.20 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4172.79 examples/s]
2023-11-08 11:14:02 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:14:03 - INFO :       Loss = 17.375
2023-11-08 11:14:05 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:14:05 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:14:06 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:14:06 - INFO :       
==================Finish================

2023-11-08 11:14:06 - INFO :       Memory Requirement: 33016.9697265625 MiB

2023-11-08 11:14:06 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:14:06 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 1
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:14:14 - INFO :       Use taylor pruner...
2023-11-08 11:14:14 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:14 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:14 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 314/9741 [00:00<00:03, 2879.49 examples/s]Map (num_proc=10):  85%|████████▍ | 8234/9741 [00:00<00:00, 45631.72 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26128.48 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4393.01 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4831.81 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 373/99842 [00:00<00:31, 3168.46 examples/s]Map (num_proc=10):   9%|▉         | 8887/99842 [00:00<00:01, 46974.64 examples/s]Map (num_proc=10):  17%|█▋        | 17303/99842 [00:00<00:01, 60918.63 examples/s]Map (num_proc=10):  26%|██▌       | 26137/99842 [00:00<00:01, 70914.28 examples/s]Map (num_proc=10):  35%|███▌      | 35285/99842 [00:00<00:00, 78030.61 examples/s]Map (num_proc=10):  43%|████▎     | 43429/99842 [00:00<00:00, 78596.91 examples/s]Map (num_proc=10):  53%|█████▎    | 52949/99842 [00:00<00:00, 81023.05 examples/s]Map (num_proc=10):  62%|██████▏   | 61892/99842 [00:00<00:00, 83580.95 examples/s]Map (num_proc=10):  71%|███████   | 70629/99842 [00:00<00:00, 82123.68 examples/s]Map (num_proc=10):  79%|███████▉  | 79244/99842 [00:01<00:00, 82896.73 examples/s]Map (num_proc=10):  88%|████████▊ | 87708/99842 [00:01<00:00, 81255.60 examples/s]Map (num_proc=10):  96%|█████████▋| 96161/99842 [00:01<00:00, 57136.03 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18553.07 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 307/1531 [00:00<00:00, 2776.01 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5833.92 examples/s]
2023-11-08 11:14:25 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:14:25 - INFO :       Loss = 13.4140625
2023-11-08 11:14:28 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:14:28 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:14:29 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:14:29 - INFO :       
==================Finish================

2023-11-08 11:14:29 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:14:29 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:14:29 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:14:36 - INFO :       Use taylor pruner...
2023-11-08 11:14:36 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:36 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:37 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 384/9741 [00:00<00:02, 3506.26 examples/s]Map (num_proc=10):  80%|████████  | 7810/9741 [00:00<00:00, 43502.28 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26312.71 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3435.60 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4935.68 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 297/29837 [00:00<00:11, 2648.75 examples/s]Map (num_proc=10):  24%|██▍       | 7280/29837 [00:00<00:00, 36814.28 examples/s]Map (num_proc=10):  49%|████▉     | 14659/29837 [00:00<00:00, 49572.48 examples/s]Map (num_proc=10):  71%|███████   | 21046/29837 [00:00<00:00, 53990.66 examples/s]Map (num_proc=10):  94%|█████████▍| 27973/29837 [00:00<00:00, 58363.80 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 39900.02 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 256/4475 [00:00<00:01, 2394.28 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14999.58 examples/s]
2023-11-08 11:14:42 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:14:43 - INFO :       Loss = 17.0
2023-11-08 11:14:45 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:14:45 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:14:46 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:14:46 - INFO :       
==================Finish================

2023-11-08 11:14:46 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:14:46 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:14:46 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:14:53 - INFO :       Use taylor pruner...
2023-11-08 11:14:53 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:53 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:14:54 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 316/9741 [00:00<00:03, 2888.56 examples/s]Map (num_proc=10):  74%|███████▍  | 7190/9741 [00:00<00:00, 39907.73 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25570.16 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2409.95 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4806.49 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  90%|█████████ | 616/684 [00:00<00:00, 5513.14 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 3025.56 examples/s]
2023-11-08 11:14:57 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:14:58 - INFO :       Loss = 16.46875
2023-11-08 11:15:00 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:15:00 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:15:01 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:15:01 - INFO :       
==================Finish================

2023-11-08 11:15:01 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:15:01 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:15:01 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:15:08 - INFO :       Use taylor pruner...
2023-11-08 11:15:08 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:08 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:09 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 327/9741 [00:00<00:03, 2916.99 examples/s]Map (num_proc=10):  79%|███████▉  | 7689/9741 [00:00<00:00, 41276.33 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25869.08 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 5836.17 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5088.66 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 222/12726 [00:00<00:06, 1905.38 examples/s]Map (num_proc=10):  47%|████▋     | 5974/12726 [00:00<00:00, 31710.21 examples/s]Map (num_proc=10):  74%|███████▎  | 9354/12726 [00:00<00:00, 24020.82 examples/s]Map (num_proc=10):  96%|█████████▌| 12181/12726 [00:03<00:00, 2199.36 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3128.15 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 213/4241 [00:00<00:02, 1880.38 examples/s]Map (num_proc=10):  59%|█████▉    | 2514/4241 [00:00<00:00, 5715.14 examples/s]Map (num_proc=10):  73%|███████▎  | 3100/4241 [00:00<00:00, 4357.74 examples/s]Map (num_proc=10):  83%|████████▎ | 3512/4241 [00:00<00:00, 3381.72 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3962.09 examples/s]
2023-11-08 11:15:18 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:15:18 - INFO :       Loss = 17.5625
2023-11-08 11:15:21 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:15:21 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:15:21 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:15:21 - INFO :       
==================Finish================

2023-11-08 11:15:21 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:15:21 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:15:21 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:15:29 - INFO :       Use taylor pruner...
2023-11-08 11:15:29 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:29 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:30 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 383/99842 [00:00<00:28, 3461.50 examples/s]Map (num_proc=10):   9%|▉         | 9292/99842 [00:00<00:01, 50158.15 examples/s]Map (num_proc=10):  17%|█▋        | 17031/99842 [00:00<00:01, 62098.01 examples/s]Map (num_proc=10):  26%|██▌       | 25733/99842 [00:00<00:01, 70750.50 examples/s]Map (num_proc=10):  34%|███▍      | 34175/99842 [00:00<00:00, 75514.90 examples/s]Map (num_proc=10):  43%|████▎     | 43086/99842 [00:00<00:00, 80018.59 examples/s]Map (num_proc=10):  52%|█████▏    | 52352/99842 [00:00<00:00, 84098.35 examples/s]Map (num_proc=10):  61%|██████    | 61040/99842 [00:00<00:00, 84952.08 examples/s]Map (num_proc=10):  70%|███████   | 70161/99842 [00:00<00:00, 83317.29 examples/s]Map (num_proc=10):  80%|███████▉  | 79457/99842 [00:01<00:00, 85743.59 examples/s]Map (num_proc=10):  88%|████████▊ | 88281/99842 [00:01<00:00, 77753.53 examples/s]Map (num_proc=10):  97%|█████████▋| 96516/99842 [00:01<00:00, 64642.28 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18606.82 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 6115.44 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6135.98 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 229/12726 [00:00<00:06, 1938.40 examples/s]Map (num_proc=10):  48%|████▊     | 6054/12726 [00:00<00:00, 31949.99 examples/s]Map (num_proc=10):  75%|███████▍  | 9536/12726 [00:00<00:00, 26446.58 examples/s]Map (num_proc=10):  98%|█████████▊| 12453/12726 [00:03<00:00, 2178.37 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3090.77 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 219/4241 [00:00<00:02, 1919.24 examples/s]Map (num_proc=10):  61%|██████▏   | 2605/4241 [00:00<00:00, 5903.31 examples/s]Map (num_proc=10):  74%|███████▎  | 3126/4241 [00:00<00:00, 3636.24 examples/s]Map (num_proc=10):  92%|█████████▏| 3902/4241 [00:00<00:00, 4243.17 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4079.45 examples/s]
2023-11-08 11:15:44 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:15:44 - INFO :       Loss = 13.7890625
2023-11-08 11:15:47 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:15:47 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:15:47 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:15:47 - INFO :       
==================Finish================

2023-11-08 11:15:47 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:15:47 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:15:47 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:15:55 - INFO :       Use taylor pruner...
2023-11-08 11:15:55 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:55 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:15:56 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 370/29837 [00:00<00:08, 3349.69 examples/s]Map (num_proc=10):  29%|██▉       | 8711/29837 [00:00<00:00, 47883.58 examples/s]Map (num_proc=10):  53%|█████▎    | 15845/29837 [00:00<00:00, 57163.24 examples/s]Map (num_proc=10):  77%|███████▋  | 23016/29837 [00:00<00:00, 62481.19 examples/s]Map (num_proc=10): 100%|█████████▉| 29722/29837 [00:00<00:00, 59802.30 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 45443.63 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 348/4475 [00:00<00:01, 3130.34 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15700.84 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 219/12726 [00:00<00:06, 1884.17 examples/s]Map (num_proc=10):  46%|████▌     | 5867/12726 [00:00<00:00, 31677.77 examples/s]Map (num_proc=10):  72%|███████▏  | 9220/12726 [00:00<00:00, 24530.24 examples/s]Map (num_proc=10):  96%|█████████▌| 12176/12726 [00:03<00:00, 2186.94 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3051.27 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 228/4241 [00:00<00:01, 2014.22 examples/s]Map (num_proc=10):  63%|██████▎   | 2672/4241 [00:00<00:00, 5919.02 examples/s]Map (num_proc=10):  77%|███████▋  | 3248/4241 [00:00<00:00, 3481.50 examples/s]Map (num_proc=10):  86%|████████▌ | 3652/4241 [00:00<00:00, 3421.55 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3802.22 examples/s]
2023-11-08 11:16:05 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:16:05 - INFO :       Loss = 17.375
2023-11-08 11:16:08 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:16:08 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:16:08 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:16:08 - INFO :       
==================Finish================

2023-11-08 11:16:08 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:16:08 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:16:08 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 2
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:16:16 - INFO :       Use taylor pruner...
2023-11-08 11:16:16 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:16 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:17 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 318/9741 [00:00<00:03, 2963.43 examples/s]Map (num_proc=10):  79%|███████▉  | 7731/9741 [00:00<00:00, 43563.28 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 27018.05 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4860.41 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4836.83 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 422/99842 [00:00<00:27, 3620.62 examples/s]Map (num_proc=10):   8%|▊         | 8362/99842 [00:00<00:02, 44251.11 examples/s]Map (num_proc=10):  15%|█▌        | 15433/99842 [00:00<00:01, 55360.36 examples/s]Map (num_proc=10):  24%|██▍       | 23932/99842 [00:00<00:01, 66042.27 examples/s]Map (num_proc=10):  33%|███▎      | 32966/99842 [00:00<00:00, 73868.39 examples/s]Map (num_proc=10):  41%|████▏     | 41246/99842 [00:00<00:00, 76812.51 examples/s]Map (num_proc=10):  50%|████▉     | 49917/99842 [00:00<00:00, 79917.45 examples/s]Map (num_proc=10):  59%|█████▊    | 58455/99842 [00:00<00:00, 79918.36 examples/s]Map (num_proc=10):  67%|██████▋   | 67352/99842 [00:00<00:00, 82674.88 examples/s]Map (num_proc=10):  77%|███████▋  | 76567/99842 [00:01<00:00, 81735.75 examples/s]Map (num_proc=10):  85%|████████▌ | 84983/99842 [00:01<00:00, 82294.64 examples/s]Map (num_proc=10):  93%|█████████▎| 93272/99842 [00:01<00:00, 74419.56 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18130.04 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1479.88 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5860.47 examples/s]
2023-11-08 11:16:27 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:16:27 - INFO :       Loss = 13.4140625
2023-11-08 11:16:30 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:16:30 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:16:31 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:16:31 - INFO :       
==================Finish================

2023-11-08 11:16:31 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:16:31 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:16:31 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.70s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.16s/it]
2023-11-08 11:16:38 - INFO :       Use taylor pruner...
2023-11-08 11:16:38 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:38 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:39 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 325/9741 [00:00<00:03, 2991.25 examples/s]Map (num_proc=10):  85%|████████▌ | 8299/9741 [00:00<00:00, 45788.67 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26708.05 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 123/1221 [00:00<00:00, 1219.36 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4811.16 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 306/29837 [00:00<00:10, 2714.96 examples/s]Map (num_proc=10):  24%|██▍       | 7281/29837 [00:00<00:00, 37924.58 examples/s]Map (num_proc=10):  48%|████▊     | 14183/29837 [00:00<00:00, 49940.69 examples/s]Map (num_proc=10):  70%|██████▉   | 20751/29837 [00:00<00:00, 54504.01 examples/s]Map (num_proc=10):  91%|█████████ | 27063/29837 [00:00<00:00, 57444.91 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 40032.38 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 269/4475 [00:00<00:01, 2344.30 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14715.03 examples/s]
2023-11-08 11:16:44 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:16:44 - INFO :       Loss = 17.0
2023-11-08 11:16:47 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:16:47 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:16:47 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:16:47 - INFO :       
==================Finish================

2023-11-08 11:16:47 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:16:47 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:16:47 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:16:55 - INFO :       Use taylor pruner...
2023-11-08 11:16:55 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:55 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:16:55 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 367/9741 [00:00<00:02, 3354.47 examples/s]Map (num_proc=10):  83%|████████▎ | 8132/9741 [00:00<00:00, 45321.33 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26397.32 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3182.16 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4696.15 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  80%|████████  | 548/684 [00:00<00:00, 5415.97 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2830.94 examples/s]
2023-11-08 11:16:59 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:17:00 - INFO :       Loss = 16.46875
2023-11-08 11:17:02 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:17:02 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:17:03 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:17:03 - INFO :       
==================Finish================

2023-11-08 11:17:03 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:17:03 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:17:03 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:17:10 - INFO :       Use taylor pruner...
2023-11-08 11:17:10 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:10 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:11 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 475/9741 [00:00<00:02, 4373.34 examples/s]Map (num_proc=10):  79%|███████▉  | 7723/9741 [00:00<00:00, 43002.91 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26970.46 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4669.46 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5038.27 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 227/12726 [00:00<00:06, 1989.00 examples/s]Map (num_proc=10):  50%|█████     | 6396/12726 [00:00<00:00, 34255.37 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23473.48 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2181.39 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3073.11 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 208/4241 [00:00<00:02, 1863.31 examples/s]Map (num_proc=10):  61%|██████    | 2592/4241 [00:00<00:00, 7438.73 examples/s]Map (num_proc=10):  77%|███████▋  | 3274/4241 [00:00<00:00, 3629.34 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:00<00:00, 4599.27 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4047.62 examples/s]
2023-11-08 11:17:21 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:17:21 - INFO :       Loss = 17.5625
2023-11-08 11:17:23 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:17:23 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:17:24 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:17:24 - INFO :       
==================Finish================

2023-11-08 11:17:24 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:17:24 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:17:24 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:17:32 - INFO :       Use taylor pruner...
2023-11-08 11:17:32 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:32 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:32 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 541/99842 [00:00<00:20, 4738.81 examples/s]Map (num_proc=10):  10%|█         | 10171/99842 [00:00<00:01, 54106.61 examples/s]Map (num_proc=10):  19%|█▊        | 18538/99842 [00:00<00:01, 66895.14 examples/s]Map (num_proc=10):  28%|██▊       | 27586/99842 [00:00<00:00, 75900.63 examples/s]Map (num_proc=10):  36%|███▌      | 35998/99842 [00:00<00:00, 78736.94 examples/s]Map (num_proc=10):  45%|████▌     | 45299/99842 [00:00<00:00, 81740.66 examples/s]Map (num_proc=10):  54%|█████▍    | 53879/99842 [00:00<00:00, 82917.73 examples/s]Map (num_proc=10):  63%|██████▎   | 62613/99842 [00:00<00:00, 81663.07 examples/s]Map (num_proc=10):  71%|███████▏  | 71271/99842 [00:00<00:00, 83131.46 examples/s]Map (num_proc=10):  80%|████████  | 80191/99842 [00:01<00:00, 84927.49 examples/s]Map (num_proc=10):  89%|████████▉ | 88795/99842 [00:01<00:00, 80195.27 examples/s]Map (num_proc=10):  97%|█████████▋| 96961/99842 [00:03<00:00, 9771.67 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17898.92 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 766/1531 [00:00<00:00, 7251.55 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6122.08 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 228/12726 [00:00<00:06, 1927.93 examples/s]Map (num_proc=10):  52%|█████▏    | 6563/12726 [00:00<00:00, 35033.12 examples/s]Map (num_proc=10):  82%|████████▏ | 10376/12726 [00:00<00:00, 25454.99 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2701.29 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 233/4241 [00:00<00:01, 2116.87 examples/s]Map (num_proc=10):  65%|██████▍   | 2743/4241 [00:00<00:00, 4747.46 examples/s]Map (num_proc=10):  76%|███████▋  | 3239/4241 [00:00<00:00, 4170.46 examples/s]Map (num_proc=10):  86%|████████▋ | 3659/4241 [00:00<00:00, 3783.73 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3895.13 examples/s]
2023-11-08 11:17:48 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:17:48 - INFO :       Loss = 13.7890625
2023-11-08 11:17:51 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:17:51 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:17:51 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:17:51 - INFO :       
==================Finish================

2023-11-08 11:17:51 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:17:51 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:17:51 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:17:59 - INFO :       Use taylor pruner...
2023-11-08 11:17:59 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:59 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:17:59 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 411/29837 [00:00<00:07, 3805.04 examples/s]Map (num_proc=10):  28%|██▊       | 8463/29837 [00:00<00:00, 44183.43 examples/s]Map (num_proc=10):  53%|█████▎    | 15689/29837 [00:00<00:00, 55755.60 examples/s]Map (num_proc=10):  79%|███████▉  | 23651/29837 [00:00<00:00, 63576.92 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 44728.57 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 353/4475 [00:00<00:01, 3147.71 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15685.01 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 222/12726 [00:00<00:06, 1871.26 examples/s]Map (num_proc=10):  50%|████▉     | 6349/12726 [00:00<00:00, 32696.68 examples/s]Map (num_proc=10):  77%|███████▋  | 9858/12726 [00:00<00:00, 23815.76 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 1948.40 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2748.91 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 331/4241 [00:00<00:01, 2829.26 examples/s]Map (num_proc=10):  64%|██████▍   | 2718/4241 [00:00<00:00, 5785.26 examples/s]Map (num_proc=10):  76%|███████▌  | 3214/4241 [00:00<00:00, 3517.51 examples/s]Map (num_proc=10):  97%|█████████▋| 4101/4241 [00:00<00:00, 4379.78 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3956.86 examples/s]
2023-11-08 11:18:09 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:18:10 - INFO :       Loss = 17.375
2023-11-08 11:18:12 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:18:12 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:18:13 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:18:13 - INFO :       
==================Finish================

2023-11-08 11:18:13 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:18:13 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:18:13 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 3
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:18:21 - INFO :       Use taylor pruner...
2023-11-08 11:18:21 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:18:21 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:18:21 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 443/9741 [00:00<00:02, 3980.16 examples/s]Map (num_proc=10):  82%|████████▏ | 8005/9741 [00:00<00:00, 43195.34 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 24716.23 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 122/1221 [00:00<00:00, 1212.56 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4772.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 499/99842 [00:00<00:23, 4270.36 examples/s]Map (num_proc=10):   9%|▊         | 8645/99842 [00:00<00:02, 42610.38 examples/s]Map (num_proc=10):  16%|█▌        | 16207/99842 [00:00<00:01, 56366.11 examples/s]Map (num_proc=10):  24%|██▍       | 24242/99842 [00:00<00:01, 65223.00 examples/s]Map (num_proc=10):  33%|███▎      | 32506/99842 [00:00<00:00, 71072.85 examples/s]Map (num_proc=10):  41%|████      | 40929/99842 [00:00<00:00, 75413.01 examples/s]Map (num_proc=10):  49%|████▉     | 48874/99842 [00:00<00:00, 74920.38 examples/s]Map (num_proc=10):  57%|█████▋    | 56873/99842 [00:00<00:00, 76446.18 examples/s]Map (num_proc=10):  65%|██████▌   | 65231/99842 [00:00<00:00, 78595.65 examples/s]Map (num_proc=10):  74%|███████▍  | 74126/99842 [00:01<00:00, 81685.81 examples/s]Map (num_proc=10):  83%|████████▎ | 82918/99842 [00:01<00:00, 81254.83 examples/s]Map (num_proc=10):  92%|█████████▏| 91532/99842 [00:01<00:00, 82670.98 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 6160.08 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17649.56 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 307/1531 [00:00<00:00, 2906.35 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5702.35 examples/s]
2023-11-08 11:18:32 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:18:32 - INFO :       Loss = 13.4140625
2023-11-08 11:18:35 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:18:35 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:18:36 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:18:36 - INFO :       
==================Finish================

2023-11-08 11:18:36 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:18:36 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:18:36 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:18:43 - INFO :       Use taylor pruner...
2023-11-08 11:18:43 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:18:43 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:18:44 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 445/9741 [00:00<00:02, 4153.40 examples/s]Map (num_proc=10):  83%|████████▎ | 8056/9741 [00:00<00:00, 43993.22 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26432.72 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2266.74 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4672.23 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 305/29837 [00:00<00:10, 2702.30 examples/s]Map (num_proc=10):  26%|██▌       | 7628/29837 [00:00<00:00, 40873.99 examples/s]Map (num_proc=10):  47%|████▋     | 13998/29837 [00:00<00:00, 50192.13 examples/s]Map (num_proc=10):  72%|███████▏  | 21508/29837 [00:00<00:00, 58053.27 examples/s]Map (num_proc=10):  94%|█████████▍| 28006/29837 [00:00<00:00, 60324.31 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 42147.03 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 273/4475 [00:00<00:01, 2477.43 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14648.35 examples/s]
2023-11-08 11:18:49 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:18:49 - INFO :       Loss = 17.0
2023-11-08 11:18:51 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:18:51 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:18:52 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:18:52 - INFO :       
==================Finish================

2023-11-08 11:18:52 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:18:52 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:18:52 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:19:00 - INFO :       Use taylor pruner...
2023-11-08 11:19:00 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:00 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:00 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 336/9741 [00:00<00:03, 3046.05 examples/s]Map (num_proc=10):  84%|████████▍ | 8215/9741 [00:00<00:00, 43066.05 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26436.40 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2347.46 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4779.45 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 344/684 [00:00<00:00, 3388.75 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2877.79 examples/s]
2023-11-08 11:19:04 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:19:04 - INFO :       Loss = 16.46875
2023-11-08 11:19:07 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:19:07 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:19:07 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:19:07 - INFO :       
==================Finish================

2023-11-08 11:19:07 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:19:07 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:19:07 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:19:15 - INFO :       Use taylor pruner...
2023-11-08 11:19:15 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:15 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:15 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 478/9741 [00:00<00:02, 4297.42 examples/s]Map (num_proc=10):  81%|████████  | 7862/9741 [00:00<00:00, 42876.15 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26463.06 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 5609.79 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4880.30 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 224/12726 [00:00<00:06, 1940.59 examples/s]Map (num_proc=10):  49%|████▊     | 6199/12726 [00:00<00:00, 32828.49 examples/s]Map (num_proc=10):  77%|███████▋  | 9788/12726 [00:00<00:00, 23104.88 examples/s]Map (num_proc=10):  98%|█████████▊| 12448/12726 [00:03<00:00, 2188.60 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2632.42 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 218/4241 [00:00<00:02, 1839.83 examples/s]Map (num_proc=10):  60%|█████▉    | 2527/4241 [00:00<00:00, 7599.97 examples/s]Map (num_proc=10):  76%|███████▌  | 3217/4241 [00:00<00:00, 3336.37 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4093.47 examples/s]
2023-11-08 11:19:25 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:19:26 - INFO :       Loss = 17.5625
2023-11-08 11:19:28 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:19:28 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:19:29 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:19:29 - INFO :       
==================Finish================

2023-11-08 11:19:29 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:19:29 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:19:29 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:19:36 - INFO :       Use taylor pruner...
2023-11-08 11:19:36 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:36 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:19:37 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 401/99842 [00:00<00:28, 3494.94 examples/s]Map (num_proc=10):   9%|▉         | 9413/99842 [00:00<00:01, 50490.45 examples/s]Map (num_proc=10):  17%|█▋        | 16876/99842 [00:00<00:01, 61015.31 examples/s]Map (num_proc=10):  25%|██▍       | 24745/99842 [00:00<00:01, 67763.20 examples/s]Map (num_proc=10):  34%|███▍      | 33876/99842 [00:00<00:00, 76091.40 examples/s]Map (num_proc=10):  43%|████▎     | 42569/99842 [00:00<00:00, 78159.86 examples/s]Map (num_proc=10):  51%|█████     | 51102/99842 [00:00<00:00, 80431.64 examples/s]Map (num_proc=10):  60%|█████▉    | 59891/99842 [00:00<00:00, 80963.05 examples/s]Map (num_proc=10):  69%|██████▉   | 68935/99842 [00:00<00:00, 83397.80 examples/s]Map (num_proc=10):  78%|███████▊  | 77943/99842 [00:01<00:00, 85413.56 examples/s]Map (num_proc=10):  87%|████████▋ | 87010/99842 [00:01<00:00, 83807.07 examples/s]Map (num_proc=10):  96%|█████████▌| 95513/99842 [00:01<00:00, 79769.09 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18852.52 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 5959.64 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5625.01 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 232/12726 [00:00<00:06, 2015.99 examples/s]Map (num_proc=10):  45%|████▌     | 5772/12726 [00:00<00:00, 30636.34 examples/s]Map (num_proc=10):  71%|███████   | 8976/12726 [00:00<00:00, 25439.69 examples/s]Map (num_proc=10):  94%|█████████▎| 11908/12726 [00:03<00:00, 2152.90 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2613.04 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 218/4241 [00:00<00:02, 1902.70 examples/s]Map (num_proc=10):  59%|█████▉    | 2503/4241 [00:00<00:00, 4988.07 examples/s]Map (num_proc=10):  73%|███████▎  | 3100/4241 [00:00<00:00, 3317.72 examples/s]Map (num_proc=10):  97%|█████████▋| 4101/4241 [00:00<00:00, 4341.96 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3786.33 examples/s]
2023-11-08 11:19:52 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:19:53 - INFO :       Loss = 13.7890625
2023-11-08 11:19:55 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:19:55 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:19:56 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:19:56 - INFO :       
==================Finish================

2023-11-08 11:19:56 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:19:56 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:19:56 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.69s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:20:03 - INFO :       Use taylor pruner...
2023-11-08 11:20:03 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:03 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:04 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 363/29837 [00:00<00:08, 3292.26 examples/s]Map (num_proc=10):  30%|██▉       | 8945/29837 [00:00<00:00, 48159.90 examples/s]Map (num_proc=10):  54%|█████▎    | 15972/29837 [00:00<00:00, 56694.24 examples/s]Map (num_proc=10):  80%|███████▉  | 23781/29837 [00:00<00:00, 62533.95 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43681.58 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 330/4475 [00:00<00:01, 2781.67 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15544.73 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 223/12726 [00:00<00:06, 1937.78 examples/s]Map (num_proc=10):  51%|█████     | 6464/12726 [00:00<00:00, 34493.81 examples/s]Map (num_proc=10):  81%|████████  | 10250/12726 [00:00<00:00, 23746.93 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3016.59 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 262/4241 [00:00<00:01, 2207.20 examples/s]Map (num_proc=10):  59%|█████▊    | 2481/4241 [00:00<00:00, 6503.65 examples/s]Map (num_proc=10):  72%|███████▏  | 3065/4241 [00:00<00:00, 3734.66 examples/s]Map (num_proc=10):  82%|████████▏ | 3491/4241 [00:00<00:00, 3719.46 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3955.57 examples/s]
2023-11-08 11:20:14 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:20:14 - INFO :       Loss = 17.375
2023-11-08 11:20:16 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:20:16 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:20:17 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:20:17 - INFO :       
==================Finish================

2023-11-08 11:20:17 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:20:17 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:20:17 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 4
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:20:25 - INFO :       Use taylor pruner...
2023-11-08 11:20:25 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:25 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:26 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 369/9741 [00:00<00:02, 3422.38 examples/s]Map (num_proc=10):  84%|████████▍ | 8165/9741 [00:00<00:00, 43977.06 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26823.60 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3491.23 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5070.93 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 369/99842 [00:00<00:31, 3166.35 examples/s]Map (num_proc=10):   9%|▊         | 8649/99842 [00:00<00:01, 46050.17 examples/s]Map (num_proc=10):  16%|█▋        | 16278/99842 [00:00<00:01, 57850.96 examples/s]Map (num_proc=10):  25%|██▍       | 24774/99842 [00:00<00:01, 67848.73 examples/s]Map (num_proc=10):  34%|███▎      | 33637/99842 [00:00<00:00, 75092.19 examples/s]Map (num_proc=10):  42%|████▏     | 41794/99842 [00:00<00:00, 77227.43 examples/s]Map (num_proc=10):  50%|█████     | 50036/99842 [00:00<00:00, 78886.02 examples/s]Map (num_proc=10):  59%|█████▉    | 58869/99842 [00:00<00:00, 81857.93 examples/s]Map (num_proc=10):  68%|██████▊   | 67900/99842 [00:00<00:00, 84398.92 examples/s]Map (num_proc=10):  77%|███████▋  | 76572/99842 [00:01<00:00, 84621.70 examples/s]Map (num_proc=10):  85%|████████▌ | 85114/99842 [00:01<00:00, 76185.10 examples/s]Map (num_proc=10):  93%|█████████▎| 93128/99842 [00:01<00:00, 68246.15 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17401.71 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1469.50 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5931.45 examples/s]
2023-11-08 11:20:36 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:20:36 - INFO :       Loss = 13.4140625
2023-11-08 11:20:39 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:20:39 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:20:40 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:20:40 - INFO :       
==================Finish================

2023-11-08 11:20:40 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:20:40 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:20:40 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.63s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:20:47 - INFO :       Use taylor pruner...
2023-11-08 11:20:47 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:47 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:20:48 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 328/9741 [00:00<00:03, 2863.45 examples/s]Map (num_proc=10):  77%|███████▋  | 7471/9741 [00:00<00:00, 40223.52 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25499.70 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3633.66 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4943.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 302/29837 [00:00<00:11, 2684.73 examples/s]Map (num_proc=10):  26%|██▌       | 7656/29837 [00:00<00:00, 39442.60 examples/s]Map (num_proc=10):  50%|████▉     | 14895/29837 [00:00<00:00, 51622.64 examples/s]Map (num_proc=10):  75%|███████▌  | 22407/29837 [00:00<00:00, 60286.24 examples/s]Map (num_proc=10):  98%|█████████▊| 29098/29837 [00:00<00:00, 62111.01 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 42297.17 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▋         | 282/4475 [00:00<00:01, 2563.84 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14944.63 examples/s]
2023-11-08 11:20:52 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:20:53 - INFO :       Loss = 17.0
2023-11-08 11:20:55 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:20:55 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:20:56 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:20:56 - INFO :       
==================Finish================

2023-11-08 11:20:56 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:20:56 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:20:56 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:21:03 - INFO :       Use taylor pruner...
2023-11-08 11:21:03 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:03 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:04 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 327/9741 [00:00<00:03, 3000.10 examples/s]Map (num_proc=10):  81%|████████  | 7870/9741 [00:00<00:00, 42209.06 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26732.55 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 6067.94 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4482.20 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  80%|████████  | 548/684 [00:00<00:00, 5378.19 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2864.86 examples/s]
2023-11-08 11:21:08 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:21:08 - INFO :       Loss = 16.46875
2023-11-08 11:21:10 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:21:10 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:21:11 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:21:11 - INFO :       
==================Finish================

2023-11-08 11:21:11 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:21:11 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:21:11 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:21:18 - INFO :       Use taylor pruner...
2023-11-08 11:21:18 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:18 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:19 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 326/9741 [00:00<00:03, 2898.58 examples/s]Map (num_proc=10):  77%|███████▋  | 7499/9741 [00:00<00:00, 41377.40 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26185.65 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3521.01 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4901.29 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 277/12726 [00:00<00:05, 2437.41 examples/s]Map (num_proc=10):  52%|█████▏    | 6586/12726 [00:00<00:00, 36065.39 examples/s]Map (num_proc=10):  83%|████████▎ | 10510/12726 [00:00<00:00, 22662.06 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2725.00 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 221/4241 [00:00<00:02, 1980.09 examples/s]Map (num_proc=10):  62%|██████▏   | 2620/4241 [00:00<00:00, 6543.14 examples/s]Map (num_proc=10):  76%|███████▌  | 3216/4241 [00:00<00:00, 3713.31 examples/s]Map (num_proc=10):  90%|█████████ | 3822/4241 [00:00<00:00, 4117.08 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3852.97 examples/s]
2023-11-08 11:21:29 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:21:29 - INFO :       Loss = 17.5625
2023-11-08 11:21:31 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:21:31 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:21:32 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:21:32 - INFO :       
==================Finish================

2023-11-08 11:21:32 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:21:32 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:21:32 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:21:40 - INFO :       Use taylor pruner...
2023-11-08 11:21:40 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:40 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:21:40 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 407/99842 [00:00<00:27, 3601.16 examples/s]Map (num_proc=10):   9%|▉         | 9413/99842 [00:00<00:01, 50613.36 examples/s]Map (num_proc=10):  18%|█▊        | 18303/99842 [00:00<00:01, 67343.66 examples/s]Map (num_proc=10):  27%|██▋       | 26808/99842 [00:00<00:00, 73066.53 examples/s]Map (num_proc=10):  36%|███▌      | 36063/99842 [00:00<00:00, 79867.87 examples/s]Map (num_proc=10):  45%|████▍     | 44797/99842 [00:00<00:00, 82348.35 examples/s]Map (num_proc=10):  54%|█████▎    | 53628/99842 [00:00<00:00, 84251.91 examples/s]Map (num_proc=10):  63%|██████▎   | 62727/99842 [00:00<00:00, 84230.25 examples/s]Map (num_proc=10):  73%|███████▎  | 72593/99842 [00:00<00:00, 88576.94 examples/s]Map (num_proc=10):  82%|████████▏ | 81800/99842 [00:01<00:00, 89400.90 examples/s]Map (num_proc=10):  92%|█████████▏| 91361/99842 [00:01<00:00, 81347.32 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 6326.01 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17463.80 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 613/1531 [00:00<00:00, 5711.80 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6312.79 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 224/12726 [00:00<00:06, 1908.84 examples/s]Map (num_proc=10):  48%|████▊     | 6141/12726 [00:00<00:00, 33196.90 examples/s]Map (num_proc=10):  77%|███████▋  | 9793/12726 [00:00<00:00, 24518.58 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2206.12 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3058.21 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 225/4241 [00:00<00:02, 1934.37 examples/s]Map (num_proc=10):  59%|█████▉    | 2521/4241 [00:00<00:00, 6989.74 examples/s]Map (num_proc=10):  77%|███████▋  | 3265/4241 [00:00<00:00, 3543.18 examples/s]Map (num_proc=10):  96%|█████████▌| 4059/4241 [00:00<00:00, 3876.01 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3758.92 examples/s]
2023-11-08 11:21:55 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:21:56 - INFO :       Loss = 13.7890625
2023-11-08 11:21:58 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:21:58 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:21:59 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:21:59 - INFO :       
==================Finish================

2023-11-08 11:21:59 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:21:59 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:21:59 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:22:06 - INFO :       Use taylor pruner...
2023-11-08 11:22:06 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:06 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:07 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 360/29837 [00:00<00:09, 3160.03 examples/s]Map (num_proc=10):  30%|███       | 9030/29837 [00:00<00:00, 45899.89 examples/s]Map (num_proc=10):  54%|█████▍    | 16260/29837 [00:00<00:00, 57011.66 examples/s]Map (num_proc=10):  81%|████████▏ | 24316/29837 [00:00<00:00, 63360.08 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43893.31 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 342/4475 [00:00<00:01, 3013.05 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15909.65 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 239/12726 [00:00<00:05, 2082.95 examples/s]Map (num_proc=10):  52%|█████▏    | 6597/12726 [00:00<00:00, 35362.02 examples/s]Map (num_proc=10):  81%|████████  | 10273/12726 [00:00<00:00, 25193.87 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2694.81 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 324/4241 [00:00<00:01, 2864.45 examples/s]Map (num_proc=10):  62%|██████▏   | 2633/4241 [00:00<00:00, 5334.81 examples/s]Map (num_proc=10):  74%|███████▎  | 3127/4241 [00:00<00:00, 3071.94 examples/s]Map (num_proc=10):  93%|█████████▎| 3938/4241 [00:01<00:00, 3778.31 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3443.22 examples/s]
2023-11-08 11:22:18 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:22:18 - INFO :       Loss = 17.375
2023-11-08 11:22:20 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:22:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:22:21 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:22:21 - INFO :       
==================Finish================

2023-11-08 11:22:21 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:22:21 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:22:21 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 5
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.63s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:22:29 - INFO :       Use taylor pruner...
2023-11-08 11:22:29 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:29 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:30 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 325/9741 [00:00<00:03, 2978.88 examples/s]Map (num_proc=10):  85%|████████▌ | 8328/9741 [00:00<00:00, 45640.48 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26057.36 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3385.72 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4884.59 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 365/99842 [00:00<00:32, 3071.81 examples/s]Map (num_proc=10):   9%|▊         | 8709/99842 [00:00<00:01, 46734.54 examples/s]Map (num_proc=10):  16%|█▋        | 16322/99842 [00:00<00:01, 59356.49 examples/s]Map (num_proc=10):  24%|██▍       | 24192/99842 [00:00<00:01, 66740.20 examples/s]Map (num_proc=10):  32%|███▏      | 32176/99842 [00:00<00:00, 70409.78 examples/s]Map (num_proc=10):  41%|████      | 40730/99842 [00:00<00:00, 75408.29 examples/s]Map (num_proc=10):  49%|████▉     | 49217/99842 [00:00<00:00, 78259.47 examples/s]Map (num_proc=10):  58%|█████▊    | 57889/99842 [00:00<00:00, 80853.62 examples/s]Map (num_proc=10):  67%|██████▋   | 66528/99842 [00:00<00:00, 82533.46 examples/s]Map (num_proc=10):  76%|███████▌  | 75825/99842 [00:01<00:00, 85400.43 examples/s]Map (num_proc=10):  85%|████████▍ | 84503/99842 [00:01<00:00, 85815.37 examples/s]Map (num_proc=10):  93%|█████████▎| 93182/99842 [00:01<00:00, 80334.35 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:06<00:00, 15926.26 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|▉         | 153/1531 [00:00<00:00, 1520.15 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5936.74 examples/s]
2023-11-08 11:22:41 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:22:41 - INFO :       Loss = 13.4140625
2023-11-08 11:22:44 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:22:44 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:22:44 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:22:44 - INFO :       
==================Finish================

2023-11-08 11:22:44 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:22:44 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:22:44 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:22:52 - INFO :       Use taylor pruner...
2023-11-08 11:22:52 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:52 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:22:53 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▎         | 357/9741 [00:00<00:02, 3221.70 examples/s]Map (num_proc=10):  84%|████████▎ | 8156/9741 [00:00<00:00, 45289.55 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26427.34 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3463.40 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4942.32 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 295/29837 [00:00<00:11, 2571.40 examples/s]Map (num_proc=10):  26%|██▌       | 7705/29837 [00:00<00:00, 41879.36 examples/s]Map (num_proc=10):  49%|████▉     | 14598/29837 [00:00<00:00, 52950.32 examples/s]Map (num_proc=10):  72%|███████▏  | 21448/29837 [00:00<00:00, 58882.70 examples/s]Map (num_proc=10):  93%|█████████▎| 27674/29837 [00:00<00:00, 59254.22 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 41503.45 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 266/4475 [00:00<00:01, 2425.25 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14788.25 examples/s]
2023-11-08 11:22:58 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:22:58 - INFO :       Loss = 17.0
2023-11-08 11:23:00 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:23:00 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:23:01 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:23:01 - INFO :       
==================Finish================

2023-11-08 11:23:01 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:23:01 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:23:01 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:23:08 - INFO :       Use taylor pruner...
2023-11-08 11:23:08 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:08 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:09 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 339/9741 [00:00<00:03, 3096.96 examples/s]Map (num_proc=10):  79%|███████▊  | 7660/9741 [00:00<00:00, 42436.70 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26099.02 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|██▉       | 366/1221 [00:00<00:00, 3341.42 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4701.61 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  70%|███████   | 480/684 [00:00<00:00, 4743.12 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2932.97 examples/s]
2023-11-08 11:23:13 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:23:13 - INFO :       Loss = 16.46875
2023-11-08 11:23:15 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:23:15 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:23:16 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:23:16 - INFO :       
==================Finish================

2023-11-08 11:23:16 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:23:16 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:23:16 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:23:24 - INFO :       Use taylor pruner...
2023-11-08 11:23:24 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:24 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:24 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 331/9741 [00:00<00:03, 2952.21 examples/s]Map (num_proc=10):  83%|████████▎ | 8122/9741 [00:00<00:00, 43464.76 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25612.06 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3590.78 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4751.08 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 330/12726 [00:00<00:04, 2793.93 examples/s]Map (num_proc=10):  50%|████▉     | 6320/12726 [00:00<00:00, 33622.56 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23875.27 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3084.61 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 219/4241 [00:00<00:02, 1882.71 examples/s]Map (num_proc=10):  57%|█████▋    | 2400/4241 [00:00<00:00, 4967.31 examples/s]Map (num_proc=10):  71%|███████   | 3019/4241 [00:00<00:00, 3270.04 examples/s]Map (num_proc=10):  95%|█████████▌| 4040/4241 [00:00<00:00, 4232.96 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3769.19 examples/s]
2023-11-08 11:23:33 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:23:34 - INFO :       Loss = 17.5625
2023-11-08 11:23:36 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:23:36 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:23:37 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:23:37 - INFO :       
==================Finish================

2023-11-08 11:23:37 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:23:37 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:23:37 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:23:44 - INFO :       Use taylor pruner...
2023-11-08 11:23:44 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:44 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:23:45 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 402/99842 [00:00<00:27, 3573.57 examples/s]Map (num_proc=10):   9%|▉         | 9296/99842 [00:00<00:01, 50209.45 examples/s]Map (num_proc=10):  17%|█▋        | 16923/99842 [00:00<00:01, 61638.79 examples/s]Map (num_proc=10):  26%|██▌       | 25865/99842 [00:00<00:01, 72103.01 examples/s]Map (num_proc=10):  35%|███▌      | 35140/99842 [00:00<00:00, 78843.69 examples/s]Map (num_proc=10):  44%|████▍     | 44118/99842 [00:00<00:00, 81976.54 examples/s]Map (num_proc=10):  54%|█████▎    | 53509/99842 [00:00<00:00, 83125.32 examples/s]Map (num_proc=10):  63%|██████▎   | 62534/99842 [00:00<00:00, 85269.23 examples/s]Map (num_proc=10):  71%|███████▏  | 71208/99842 [00:00<00:00, 85114.67 examples/s]Map (num_proc=10):  80%|████████  | 80029/99842 [00:01<00:00, 85722.40 examples/s]Map (num_proc=10):  89%|████████▉ | 88930/99842 [00:01<00:00, 84172.97 examples/s]Map (num_proc=10):  98%|█████████▊| 97896/99842 [00:01<00:00, 65496.10 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18282.15 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4555.86 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6216.32 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 221/12726 [00:00<00:06, 1929.04 examples/s]Map (num_proc=10):  49%|████▉     | 6278/12726 [00:00<00:00, 34015.31 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 24029.28 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3099.93 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 213/4241 [00:00<00:02, 1878.44 examples/s]Map (num_proc=10):  61%|██████▏   | 2600/4241 [00:00<00:00, 6269.52 examples/s]Map (num_proc=10):  76%|███████▌  | 3212/4241 [00:00<00:00, 3947.77 examples/s]Map (num_proc=10):  86%|████████▌ | 3633/4241 [00:00<00:00, 3950.85 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3944.18 examples/s]
2023-11-08 11:23:59 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:24:00 - INFO :       Loss = 13.7890625
2023-11-08 11:24:02 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:24:02 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:24:03 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:24:03 - INFO :       
==================Finish================

2023-11-08 11:24:03 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:24:03 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:24:03 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:24:10 - INFO :       Use taylor pruner...
2023-11-08 11:24:10 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:10 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:11 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|▏         | 381/29837 [00:00<00:08, 3474.96 examples/s]Map (num_proc=10):  30%|███       | 9027/29837 [00:00<00:00, 49698.31 examples/s]Map (num_proc=10):  54%|█████▍    | 16211/29837 [00:00<00:00, 58575.09 examples/s]Map (num_proc=10):  77%|███████▋  | 22937/29837 [00:00<00:00, 60462.36 examples/s]Map (num_proc=10):  98%|█████████▊| 29321/29837 [00:00<00:00, 59972.99 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 42510.12 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 344/4475 [00:00<00:01, 3139.07 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15330.12 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 227/12726 [00:00<00:06, 1944.39 examples/s]Map (num_proc=10):  49%|████▊     | 6184/12726 [00:00<00:00, 33110.79 examples/s]Map (num_proc=10):  77%|███████▋  | 9754/12726 [00:00<00:00, 24008.78 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2204.42 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3065.43 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 218/4241 [00:00<00:02, 2010.48 examples/s]Map (num_proc=10):  60%|██████    | 2554/4241 [00:00<00:00, 6232.99 examples/s]Map (num_proc=10):  77%|███████▋  | 3259/4241 [00:00<00:00, 3846.58 examples/s]Map (num_proc=10):  90%|█████████ | 3829/4241 [00:00<00:00, 4035.86 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4071.40 examples/s]
2023-11-08 11:24:20 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:24:21 - INFO :       Loss = 17.375
2023-11-08 11:24:23 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:24:23 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:24:24 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:24:24 - INFO :       
==================Finish================

2023-11-08 11:24:24 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:24:24 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:24:24 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 6
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:24:32 - INFO :       Use taylor pruner...
2023-11-08 11:24:32 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:32 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:32 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 339/9741 [00:00<00:03, 3052.81 examples/s]Map (num_proc=10):  69%|██████▉   | 6709/9741 [00:00<00:00, 34892.48 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 24571.95 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3583.78 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4906.11 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 534/99842 [00:00<00:21, 4524.33 examples/s]Map (num_proc=10):   9%|▉         | 8977/99842 [00:00<00:01, 47614.85 examples/s]Map (num_proc=10):  17%|█▋        | 16517/99842 [00:00<00:01, 59638.48 examples/s]Map (num_proc=10):  24%|██▍       | 24307/99842 [00:00<00:01, 66391.54 examples/s]Map (num_proc=10):  33%|███▎      | 33225/99842 [00:00<00:00, 72916.75 examples/s]Map (num_proc=10):  42%|████▏     | 41555/99842 [00:00<00:00, 74899.48 examples/s]Map (num_proc=10):  50%|████▉     | 49693/99842 [00:00<00:00, 76946.40 examples/s]Map (num_proc=10):  59%|█████▉    | 59217/99842 [00:00<00:00, 81301.95 examples/s]Map (num_proc=10):  68%|██████▊   | 67653/99842 [00:00<00:00, 81924.88 examples/s]Map (num_proc=10):  76%|███████▋  | 76233/99842 [00:01<00:00, 80932.89 examples/s]Map (num_proc=10):  85%|████████▍ | 84422/99842 [00:01<00:00, 80225.29 examples/s]Map (num_proc=10):  93%|█████████▎| 92786/99842 [00:01<00:00, 70775.92 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17673.60 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1456.60 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5764.64 examples/s]
2023-11-08 11:24:43 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:24:43 - INFO :       Loss = 13.4140625
2023-11-08 11:24:46 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:24:46 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:24:46 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:24:46 - INFO :       
==================Finish================

2023-11-08 11:24:46 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:24:46 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:24:46 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:24:54 - INFO :       Use taylor pruner...
2023-11-08 11:24:54 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:54 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:24:55 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 442/9741 [00:00<00:02, 4077.74 examples/s]Map (num_proc=10):  80%|████████  | 7800/9741 [00:00<00:00, 42644.92 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25909.32 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3646.97 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4876.00 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 329/29837 [00:00<00:09, 2984.04 examples/s]Map (num_proc=10):  25%|██▍       | 7412/29837 [00:00<00:00, 39322.36 examples/s]Map (num_proc=10):  46%|████▌     | 13680/29837 [00:00<00:00, 49135.46 examples/s]Map (num_proc=10):  70%|███████   | 20901/29837 [00:00<00:00, 55891.18 examples/s]Map (num_proc=10):  92%|█████████▏| 27306/29837 [00:00<00:00, 56483.20 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 40939.82 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 228/4475 [00:00<00:02, 2116.95 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14790.65 examples/s]
2023-11-08 11:24:59 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:25:00 - INFO :       Loss = 17.0
2023-11-08 11:25:02 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:25:02 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:25:03 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:25:03 - INFO :       
==================Finish================

2023-11-08 11:25:03 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:25:03 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:25:03 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:25:11 - INFO :       Use taylor pruner...
2023-11-08 11:25:11 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:11 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:11 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 334/9741 [00:00<00:03, 3028.33 examples/s]Map (num_proc=10):  80%|███████▉  | 7784/9741 [00:00<00:00, 43279.19 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26180.72 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3631.78 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4746.67 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 3024.29 examples/s]
2023-11-08 11:25:15 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:25:15 - INFO :       Loss = 16.46875
2023-11-08 11:25:17 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:25:17 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:25:18 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:25:18 - INFO :       
==================Finish================

2023-11-08 11:25:18 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:25:18 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:25:18 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.69s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:25:26 - INFO :       Use taylor pruner...
2023-11-08 11:25:26 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:26 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:27 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 318/9741 [00:00<00:03, 2926.50 examples/s]Map (num_proc=10):  82%|████████▏ | 7959/9741 [00:00<00:00, 43084.30 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 27147.91 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4392.27 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4911.05 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 193/12726 [00:00<00:07, 1664.82 examples/s]Map (num_proc=10):  44%|████▍     | 5631/12726 [00:00<00:00, 30243.49 examples/s]Map (num_proc=10):  70%|███████   | 8909/12726 [00:00<00:00, 26449.72 examples/s]Map (num_proc=10):  94%|█████████▎| 11908/12726 [00:03<00:00, 2190.08 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3023.28 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 221/4241 [00:00<00:02, 1935.11 examples/s]Map (num_proc=10):  63%|██████▎   | 2693/4241 [00:00<00:00, 5802.41 examples/s]Map (num_proc=10):  76%|███████▌  | 3217/4241 [00:00<00:00, 4346.42 examples/s]Map (num_proc=10):  88%|████████▊ | 3720/4241 [00:00<00:00, 3909.57 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3868.36 examples/s]
2023-11-08 11:25:36 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:25:36 - INFO :       Loss = 17.5625
2023-11-08 11:25:38 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:25:38 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:25:39 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:25:39 - INFO :       
==================Finish================

2023-11-08 11:25:39 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:25:39 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:25:39 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:25:47 - INFO :       Use taylor pruner...
2023-11-08 11:25:47 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:47 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:25:47 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 402/99842 [00:00<00:27, 3626.37 examples/s]Map (num_proc=10):   9%|▉         | 9177/99842 [00:00<00:01, 48756.88 examples/s]Map (num_proc=10):  18%|█▊        | 18136/99842 [00:00<00:01, 63795.64 examples/s]Map (num_proc=10):  27%|██▋       | 26768/99842 [00:00<00:01, 72171.29 examples/s]Map (num_proc=10):  35%|███▌      | 35379/99842 [00:00<00:00, 76987.08 examples/s]Map (num_proc=10):  44%|████▍     | 44128/99842 [00:00<00:00, 78776.32 examples/s]Map (num_proc=10):  53%|█████▎    | 52814/99842 [00:00<00:00, 81153.68 examples/s]Map (num_proc=10):  62%|██████▏   | 61482/99842 [00:00<00:00, 82851.22 examples/s]Map (num_proc=10):  70%|███████   | 70255/99842 [00:00<00:00, 82182.23 examples/s]Map (num_proc=10):  79%|███████▉  | 78659/99842 [00:01<00:00, 82449.94 examples/s]Map (num_proc=10):  87%|████████▋ | 87316/99842 [00:01<00:00, 81128.07 examples/s]Map (num_proc=10):  96%|█████████▌| 95741/99842 [00:01<00:00, 64991.79 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17451.48 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4571.04 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5610.83 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 229/12726 [00:00<00:06, 1981.75 examples/s]Map (num_proc=10):  50%|████▉     | 6346/12726 [00:00<00:00, 33945.32 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23844.92 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 1881.20 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2676.05 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 237/4241 [00:00<00:01, 2087.83 examples/s]Map (num_proc=10):  58%|█████▊    | 2465/4241 [00:00<00:00, 4341.51 examples/s]Map (num_proc=10):  68%|██████▊   | 2867/4241 [00:00<00:00, 3104.48 examples/s]Map (num_proc=10):  96%|█████████▌| 4071/4241 [00:00<00:00, 4481.18 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3779.00 examples/s]
2023-11-08 11:26:03 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:26:04 - INFO :       Loss = 13.7890625
2023-11-08 11:26:06 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:26:06 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:26:07 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:26:07 - INFO :       
==================Finish================

2023-11-08 11:26:07 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:26:07 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:26:07 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:26:14 - INFO :       Use taylor pruner...
2023-11-08 11:26:14 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:14 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:15 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 359/29837 [00:00<00:09, 3236.90 examples/s]Map (num_proc=10):  28%|██▊       | 8462/29837 [00:00<00:00, 46518.75 examples/s]Map (num_proc=10):  51%|█████▏    | 15358/29837 [00:00<00:00, 55574.86 examples/s]Map (num_proc=10):  76%|███████▋  | 22803/29837 [00:00<00:00, 62628.43 examples/s]Map (num_proc=10):  98%|█████████▊| 29300/29837 [00:00<00:00, 63455.40 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 44705.69 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 342/4475 [00:00<00:01, 3167.81 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15246.95 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 223/12726 [00:00<00:06, 1872.86 examples/s]Map (num_proc=10):  50%|████▉     | 6317/12726 [00:00<00:00, 33574.68 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23732.35 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2717.77 examples/s] 
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 305/4241 [00:00<00:01, 2749.28 examples/s]Map (num_proc=10):  61%|██████    | 2597/4241 [00:00<00:00, 6471.03 examples/s]Map (num_proc=10):  77%|███████▋  | 3250/4241 [00:00<00:00, 3570.34 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4089.69 examples/s]
2023-11-08 11:26:25 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:26:25 - INFO :       Loss = 17.375
2023-11-08 11:26:27 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:26:27 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:26:28 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:26:28 - INFO :       
==================Finish================

2023-11-08 11:26:28 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:26:28 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:26:28 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 7
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:26:36 - INFO :       Use taylor pruner...
2023-11-08 11:26:36 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:36 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:37 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 329/9741 [00:00<00:03, 3003.45 examples/s]Map (num_proc=10):  79%|███████▉  | 7730/9741 [00:00<00:00, 42901.56 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26460.57 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 6035.64 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4939.76 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 390/99842 [00:00<00:29, 3375.74 examples/s]Map (num_proc=10):   9%|▉         | 8955/99842 [00:00<00:02, 45232.43 examples/s]Map (num_proc=10):  17%|█▋        | 16572/99842 [00:00<00:01, 57953.94 examples/s]Map (num_proc=10):  24%|██▍       | 23875/99842 [00:00<00:01, 63545.13 examples/s]Map (num_proc=10):  33%|███▎      | 32870/99842 [00:00<00:00, 72549.64 examples/s]Map (num_proc=10):  41%|████      | 40670/99842 [00:00<00:00, 73873.28 examples/s]Map (num_proc=10):  49%|████▉     | 49125/99842 [00:00<00:00, 77275.79 examples/s]Map (num_proc=10):  58%|█████▊    | 57790/99842 [00:00<00:00, 80207.54 examples/s]Map (num_proc=10):  67%|██████▋   | 67140/99842 [00:00<00:00, 80136.77 examples/s]Map (num_proc=10):  75%|███████▌  | 75342/99842 [00:01<00:00, 80026.39 examples/s]Map (num_proc=10):  84%|████████▎ | 83498/99842 [00:01<00:00, 80423.32 examples/s]Map (num_proc=10):  92%|█████████▏| 91973/99842 [00:01<00:00, 73477.78 examples/s]Map (num_proc=10): 100%|█████████▉| 99496/99842 [00:05<00:00, 6311.61 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18301.81 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4318.17 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6044.91 examples/s]
2023-11-08 11:26:47 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:26:48 - INFO :       Loss = 13.4140625
2023-11-08 11:26:50 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:26:50 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:26:51 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:26:51 - INFO :       
==================Finish================

2023-11-08 11:26:51 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:26:51 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:26:51 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:26:58 - INFO :       Use taylor pruner...
2023-11-08 11:26:58 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:58 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:26:59 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 328/9741 [00:00<00:03, 2975.66 examples/s]Map (num_proc=10):  80%|████████  | 7816/9741 [00:00<00:00, 43083.01 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25404.91 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3392.58 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4856.19 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 297/29837 [00:00<00:11, 2681.09 examples/s]Map (num_proc=10):  24%|██▍       | 7212/29837 [00:00<00:00, 38824.47 examples/s]Map (num_proc=10):  46%|████▌     | 13697/29837 [00:00<00:00, 49576.12 examples/s]Map (num_proc=10):  72%|███████▏  | 21421/29837 [00:00<00:00, 58299.75 examples/s]Map (num_proc=10):  95%|█████████▍| 28250/29837 [00:00<00:00, 57444.18 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 41661.00 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 279/4475 [00:00<00:01, 2491.98 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14648.09 examples/s]
2023-11-08 11:27:04 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:27:04 - INFO :       Loss = 17.0
2023-11-08 11:27:06 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:27:06 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:27:07 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:27:07 - INFO :       
==================Finish================

2023-11-08 11:27:07 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:27:07 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:27:07 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:27:15 - INFO :       Use taylor pruner...
2023-11-08 11:27:15 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:15 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:15 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 329/9741 [00:00<00:03, 2955.53 examples/s]Map (num_proc=10):  81%|████████  | 7892/9741 [00:00<00:00, 43098.36 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26096.01 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4322.48 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4749.25 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  80%|████████  | 548/684 [00:00<00:00, 5068.56 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2925.83 examples/s]
2023-11-08 11:27:19 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:27:19 - INFO :       Loss = 16.46875
2023-11-08 11:27:22 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:27:22 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:27:22 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:27:22 - INFO :       
==================Finish================

2023-11-08 11:27:22 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:27:22 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:27:22 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:27:30 - INFO :       Use taylor pruner...
2023-11-08 11:27:30 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:30 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:30 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 326/9741 [00:00<00:03, 2928.65 examples/s]Map (num_proc=10):  85%|████████▌ | 8308/9741 [00:00<00:00, 45565.28 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26380.21 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3612.89 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4866.62 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 330/12726 [00:00<00:04, 2862.46 examples/s]Map (num_proc=10):  50%|█████     | 6385/12726 [00:00<00:00, 34293.32 examples/s]Map (num_proc=10):  78%|███████▊  | 9977/12726 [00:00<00:00, 24114.19 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3054.75 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 226/4241 [00:00<00:02, 1978.52 examples/s]Map (num_proc=10):  60%|█████▉    | 2536/4241 [00:00<00:00, 6014.86 examples/s]Map (num_proc=10):  74%|███████▎  | 3127/4241 [00:00<00:00, 2872.72 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3591.63 examples/s]
2023-11-08 11:27:40 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:27:40 - INFO :       Loss = 17.5625
2023-11-08 11:27:43 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:27:43 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:27:43 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:27:43 - INFO :       
==================Finish================

2023-11-08 11:27:43 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:27:43 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:27:43 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:27:51 - INFO :       Use taylor pruner...
2023-11-08 11:27:51 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:51 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:27:51 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 597/99842 [00:00<00:18, 5310.36 examples/s]Map (num_proc=10):   9%|▉         | 9398/99842 [00:00<00:01, 50093.45 examples/s]Map (num_proc=10):  18%|█▊        | 17668/99842 [00:00<00:01, 64319.25 examples/s]Map (num_proc=10):  26%|██▌       | 25817/99842 [00:00<00:01, 70901.38 examples/s]Map (num_proc=10):  34%|███▍      | 34335/99842 [00:00<00:00, 74521.62 examples/s]Map (num_proc=10):  43%|████▎     | 43366/99842 [00:00<00:00, 78446.64 examples/s]Map (num_proc=10):  53%|█████▎    | 52890/99842 [00:00<00:00, 82879.30 examples/s]Map (num_proc=10):  62%|██████▏   | 62299/99842 [00:00<00:00, 86345.15 examples/s]Map (num_proc=10):  71%|███████▏  | 71149/99842 [00:00<00:00, 86496.08 examples/s]Map (num_proc=10):  80%|████████  | 80371/99842 [00:01<00:00, 86177.42 examples/s]Map (num_proc=10):  89%|████████▉ | 89072/99842 [00:01<00:00, 86265.33 examples/s]Map (num_proc=10):  98%|█████████▊| 98120/99842 [00:04<00:00, 8444.15 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 18104.84 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 307/1531 [00:00<00:00, 3011.12 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6150.26 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 229/12726 [00:00<00:06, 1939.83 examples/s]Map (num_proc=10):  48%|████▊     | 6148/12726 [00:00<00:00, 32919.69 examples/s]Map (num_proc=10):  77%|███████▋  | 9848/12726 [00:00<00:00, 26329.58 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2118.97 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2962.62 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 217/4241 [00:00<00:02, 1902.35 examples/s]Map (num_proc=10):  59%|█████▉    | 2506/4241 [00:00<00:00, 5816.44 examples/s]Map (num_proc=10):  71%|███████   | 3019/4241 [00:00<00:00, 3732.87 examples/s]Map (num_proc=10):  81%|████████  | 3424/4241 [00:00<00:00, 3467.49 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3832.13 examples/s]
2023-11-08 11:28:06 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:28:07 - INFO :       Loss = 13.7890625
2023-11-08 11:28:09 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:28:09 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:28:10 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:28:10 - INFO :       
==================Finish================

2023-11-08 11:28:10 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:28:10 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:28:10 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.68s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:28:17 - INFO :       Use taylor pruner...
2023-11-08 11:28:17 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:28:17 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:28:18 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 355/29837 [00:00<00:09, 3177.00 examples/s]Map (num_proc=10):  26%|██▌       | 7794/29837 [00:00<00:00, 39846.61 examples/s]Map (num_proc=10):  51%|█████     | 15234/29837 [00:00<00:00, 54131.32 examples/s]Map (num_proc=10):  72%|███████▏  | 21341/29837 [00:00<00:00, 56695.72 examples/s]Map (num_proc=10):  97%|█████████▋| 28953/29837 [00:00<00:00, 62266.85 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 42858.21 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   9%|▉         | 394/4475 [00:00<00:01, 3608.21 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15447.44 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 333/12726 [00:00<00:04, 2883.30 examples/s]Map (num_proc=10):  50%|████▉     | 6317/12726 [00:00<00:00, 33643.44 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23174.04 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2152.31 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3027.75 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 210/4241 [00:00<00:02, 1843.18 examples/s]Map (num_proc=10):  62%|██████▏   | 2627/4241 [00:00<00:00, 5899.16 examples/s]Map (num_proc=10):  76%|███████▋  | 3238/4241 [00:00<00:00, 3882.47 examples/s]Map (num_proc=10):  98%|█████████▊| 4149/4241 [00:00<00:00, 4467.75 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4003.41 examples/s]
2023-11-08 11:28:27 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:28:28 - INFO :       Loss = 17.375
2023-11-08 11:28:30 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:28:30 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:28:31 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:28:31 - INFO :       
==================Finish================

2023-11-08 11:28:31 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:28:31 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:28:31 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 8
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:28:39 - INFO :       Use taylor pruner...
2023-11-08 11:28:39 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:28:39 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:28:40 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 336/9741 [00:00<00:03, 3019.99 examples/s]Map (num_proc=10):  75%|███████▌  | 7308/9741 [00:00<00:00, 39153.53 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26443.98 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3545.43 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4897.54 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 364/99842 [00:00<00:31, 3119.51 examples/s]Map (num_proc=10):   8%|▊         | 8257/99842 [00:00<00:02, 43441.17 examples/s]Map (num_proc=10):  16%|█▋        | 16338/99842 [00:00<00:01, 58248.37 examples/s]Map (num_proc=10):  25%|██▌       | 25146/99842 [00:00<00:01, 69316.99 examples/s]Map (num_proc=10):  34%|███▍      | 34164/99842 [00:00<00:00, 72916.58 examples/s]Map (num_proc=10):  42%|████▏     | 42393/99842 [00:00<00:00, 75862.19 examples/s]Map (num_proc=10):  51%|█████     | 51025/99842 [00:00<00:00, 79148.24 examples/s]Map (num_proc=10):  60%|██████    | 60330/99842 [00:00<00:00, 83217.78 examples/s]Map (num_proc=10):  69%|██████▉   | 68987/99842 [00:00<00:00, 84233.24 examples/s]Map (num_proc=10):  78%|███████▊  | 77871/99842 [00:01<00:00, 85584.96 examples/s]Map (num_proc=10):  87%|████████▋ | 86927/99842 [00:01<00:00, 83500.69 examples/s]Map (num_proc=10):  96%|█████████▌| 95458/99842 [00:01<00:00, 71877.45 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17801.69 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  10%|█         | 154/1531 [00:00<00:00, 1531.45 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5826.37 examples/s]
2023-11-08 11:29:00 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:29:00 - INFO :       Loss = 13.4140625
2023-11-08 11:29:03 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:29:03 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:29:04 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:29:04 - INFO :       
==================Finish================

2023-11-08 11:29:04 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:29:04 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:29:04 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:29:11 - INFO :       Use taylor pruner...
2023-11-08 11:29:11 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:11 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:12 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   4%|▍         | 372/9741 [00:00<00:02, 3423.97 examples/s]Map (num_proc=10):  82%|████████▏ | 7960/9741 [00:00<00:00, 43457.09 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25703.29 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3469.02 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4861.66 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 298/29837 [00:00<00:10, 2702.49 examples/s]Map (num_proc=10):  26%|██▌       | 7680/29837 [00:00<00:00, 41189.55 examples/s]Map (num_proc=10):  48%|████▊     | 14447/29837 [00:00<00:00, 52681.00 examples/s]Map (num_proc=10):  71%|███████   | 21118/29837 [00:00<00:00, 57510.62 examples/s]Map (num_proc=10):  92%|█████████▏| 27303/29837 [00:00<00:00, 58266.34 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 38841.10 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▌         | 273/4475 [00:00<00:01, 2448.66 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14454.18 examples/s]
2023-11-08 11:29:17 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:29:17 - INFO :       Loss = 17.0
2023-11-08 11:29:20 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:29:20 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:29:20 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:29:20 - INFO :       
==================Finish================

2023-11-08 11:29:20 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:29:20 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:29:20 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:29:28 - INFO :       Use taylor pruner...
2023-11-08 11:29:28 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:28 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:29 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 331/9741 [00:00<00:03, 3026.08 examples/s]Map (num_proc=10):  84%|████████▎ | 8143/9741 [00:00<00:00, 43930.58 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26316.93 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 5630.52 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 5058.16 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  80%|████████  | 548/684 [00:00<00:00, 5455.99 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2997.38 examples/s]
2023-11-08 11:29:32 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:29:33 - INFO :       Loss = 16.46875
2023-11-08 11:29:35 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:29:35 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:29:36 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:29:36 - INFO :       
==================Finish================

2023-11-08 11:29:36 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:29:36 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:29:36 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.70s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.06s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:29:43 - INFO :       Use taylor pruner...
2023-11-08 11:29:43 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:43 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:29:44 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 482/9741 [00:00<00:02, 4347.00 examples/s]Map (num_proc=10):  80%|███████▉  | 7753/9741 [00:00<00:00, 42492.92 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25585.39 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 611/1221 [00:00<00:00, 5890.58 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4352.06 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 222/12726 [00:00<00:06, 1904.89 examples/s]Map (num_proc=10):  50%|████▉     | 6346/12726 [00:00<00:00, 33570.98 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23866.98 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2113.82 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2972.13 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   7%|▋         | 285/4241 [00:00<00:01, 2549.15 examples/s]Map (num_proc=10):  62%|██████▏   | 2650/4241 [00:00<00:00, 7217.53 examples/s]Map (num_proc=10):  78%|███████▊  | 3328/4241 [00:00<00:00, 3417.48 examples/s]Map (num_proc=10):  95%|█████████▌| 4046/4241 [00:01<00:00, 3754.70 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3734.84 examples/s]
2023-11-08 11:29:53 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:29:54 - INFO :       Loss = 17.5625
2023-11-08 11:29:56 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:29:56 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:29:56 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:29:56 - INFO :       
==================Finish================

2023-11-08 11:29:56 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:29:56 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:29:56 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:30:04 - INFO :       Use taylor pruner...
2023-11-08 11:30:04 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:04 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:05 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 399/99842 [00:00<00:28, 3488.91 examples/s]Map (num_proc=10):   9%|▉         | 9410/99842 [00:00<00:01, 51429.45 examples/s]Map (num_proc=10):  17%|█▋        | 17285/99842 [00:00<00:01, 61340.96 examples/s]Map (num_proc=10):  26%|██▌       | 25676/99842 [00:00<00:01, 69864.30 examples/s]Map (num_proc=10):  35%|███▍      | 34672/99842 [00:00<00:00, 75987.70 examples/s]Map (num_proc=10):  44%|████▍     | 43746/99842 [00:00<00:00, 80861.10 examples/s]Map (num_proc=10):  53%|█████▎    | 52454/99842 [00:00<00:00, 82834.09 examples/s]Map (num_proc=10):  61%|██████    | 60958/99842 [00:00<00:00, 81566.21 examples/s]Map (num_proc=10):  70%|██████▉   | 69606/99842 [00:00<00:00, 82878.77 examples/s]Map (num_proc=10):  79%|███████▊  | 78526/99842 [00:01<00:00, 84768.40 examples/s]Map (num_proc=10):  88%|████████▊ | 87744/99842 [00:01<00:00, 86995.24 examples/s]Map (num_proc=10):  97%|█████████▋| 96908/99842 [00:01<00:00, 73312.11 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17894.37 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  50%|█████     | 766/1531 [00:00<00:00, 6799.21 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6036.27 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 233/12726 [00:00<00:06, 1980.82 examples/s]Map (num_proc=10):  50%|████▉     | 6322/12726 [00:00<00:00, 33253.75 examples/s]Map (num_proc=10):  77%|███████▋  | 9803/12726 [00:00<00:00, 23525.97 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 1946.15 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2740.25 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 215/4241 [00:00<00:02, 1859.50 examples/s]Map (num_proc=10):  61%|██████    | 2574/4241 [00:00<00:00, 4493.21 examples/s]Map (num_proc=10):  70%|███████   | 2980/4241 [00:00<00:00, 4298.38 examples/s]Map (num_proc=10):  85%|████████▌ | 3622/4241 [00:00<00:00, 4767.23 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:00<00:00, 4435.05 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3886.41 examples/s]
2023-11-08 11:30:20 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:30:20 - INFO :       Loss = 13.7890625
2023-11-08 11:30:22 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:30:22 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:30:23 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:30:23 - INFO :       
==================Finish================

2023-11-08 11:30:23 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:30:23 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:30:23 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:30:31 - INFO :       Use taylor pruner...
2023-11-08 11:30:31 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:31 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:31 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 492/29837 [00:00<00:07, 4113.02 examples/s]Map (num_proc=10):  27%|██▋       | 8070/29837 [00:00<00:00, 42416.54 examples/s]Map (num_proc=10):  51%|█████     | 15190/29837 [00:00<00:00, 52508.66 examples/s]Map (num_proc=10):  77%|███████▋  | 22964/29837 [00:00<00:00, 61334.63 examples/s]Map (num_proc=10): 100%|█████████▉| 29727/29837 [00:00<00:00, 58661.74 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43690.21 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   9%|▊         | 390/4475 [00:00<00:01, 3550.48 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14972.17 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 218/12726 [00:00<00:06, 1903.76 examples/s]Map (num_proc=10):  51%|█████▏    | 6542/12726 [00:00<00:00, 33745.84 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23434.16 examples/s]Map (num_proc=10): 100%|█████████▉| 12712/12726 [00:04<00:00, 2171.87 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 3067.83 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 217/4241 [00:00<00:02, 1968.03 examples/s]Map (num_proc=10):  65%|██████▍   | 2753/4241 [00:00<00:00, 6077.66 examples/s]Map (num_proc=10):  79%|███████▉  | 3363/4241 [00:00<00:00, 3055.60 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3762.08 examples/s]
2023-11-08 11:30:41 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:30:41 - INFO :       Loss = 17.375
2023-11-08 11:30:44 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:30:44 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:30:44 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:30:44 - INFO :       
==================Finish================

2023-11-08 11:30:44 - INFO :       Memory Requirement: 33017.8134765625 MiB

2023-11-08 11:30:44 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:30:44 - INFO :       DATASET: commonsense_qa_mmlu
******************************
Generating Samples
******************************
Prepare Validation Dataset
Index 9
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.65s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.13s/it]
2023-11-08 11:30:53 - INFO :       Use taylor pruner...
2023-11-08 11:30:53 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:53 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:30:53 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 330/9741 [00:00<00:03, 2982.84 examples/s]Map (num_proc=10):  77%|███████▋  | 7476/9741 [00:00<00:00, 40892.87 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25810.75 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 367/1221 [00:00<00:00, 3520.78 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4901.27 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   0%|          | 359/99842 [00:00<00:32, 3108.37 examples/s]Map (num_proc=10):   8%|▊         | 8244/99842 [00:00<00:02, 44029.42 examples/s]Map (num_proc=10):  17%|█▋        | 16690/99842 [00:00<00:01, 60411.98 examples/s]Map (num_proc=10):  25%|██▌       | 25303/99842 [00:00<00:01, 67206.39 examples/s]Map (num_proc=10):  34%|███▍      | 33933/99842 [00:00<00:00, 73697.78 examples/s]Map (num_proc=10):  43%|████▎     | 42723/99842 [00:00<00:00, 78343.07 examples/s]Map (num_proc=10):  51%|█████     | 50747/99842 [00:00<00:00, 78937.54 examples/s]Map (num_proc=10):  59%|█████▉    | 58954/99842 [00:00<00:00, 77890.31 examples/s]Map (num_proc=10):  68%|██████▊   | 67854/99842 [00:00<00:00, 81237.20 examples/s]Map (num_proc=10):  76%|███████▋  | 76237/99842 [00:01<00:00, 81977.20 examples/s]Map (num_proc=10):  85%|████████▌ | 85124/99842 [00:01<00:00, 83811.03 examples/s]Map (num_proc=10):  94%|█████████▍| 93612/99842 [00:01<00:00, 73107.63 examples/s]Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17654.25 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 307/1531 [00:00<00:00, 3033.27 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 5989.23 examples/s]
2023-11-08 11:31:03 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:31:04 - INFO :       Loss = 13.4140625
2023-11-08 11:31:07 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:31:07 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:31:07 - INFO :       commonsense_qa_mmlu: Total Sparsity 1.3742940599042272e-06
2023-11-08 11:31:07 - INFO :       
==================Finish================

2023-11-08 11:31:07 - INFO :       Memory Requirement: 33040.2119140625 MiB

2023-11-08 11:31:07 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:31:07 - INFO :       DATASET: commonsense_qa_math_qa
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.04s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:31:15 - INFO :       Use taylor pruner...
2023-11-08 11:31:15 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:15 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:15 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 324/9741 [00:00<00:03, 2994.01 examples/s]Map (num_proc=10):  80%|████████  | 7804/9741 [00:00<00:00, 42817.66 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25681.74 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4756.38 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4970.77 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 326/29837 [00:00<00:10, 2906.49 examples/s]Map (num_proc=10):  26%|██▌       | 7790/29837 [00:00<00:00, 42423.16 examples/s]Map (num_proc=10):  46%|████▌     | 13685/29837 [00:00<00:00, 48872.36 examples/s]Map (num_proc=10):  72%|███████▏  | 21403/29837 [00:00<00:00, 57404.89 examples/s]Map (num_proc=10):  92%|█████████▏| 27501/29837 [00:00<00:00, 58564.29 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 41574.03 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   6%|▋         | 280/4475 [00:00<00:01, 2569.08 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 14632.65 examples/s]
2023-11-08 11:31:21 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:31:21 - INFO :       Loss = 17.0
2023-11-08 11:31:23 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:31:23 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:31:24 - INFO :       commonsense_qa_math_qa: Total Sparsity 1.375880597428488e-06
2023-11-08 11:31:24 - INFO :       
==================Finish================

2023-11-08 11:31:24 - INFO :       Memory Requirement: 33025.7119140625 MiB

2023-11-08 11:31:24 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:31:24 - INFO :       DATASET: commonsense_qa_truthful_qa_mc
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.64s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.03s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.12s/it]
2023-11-08 11:31:32 - INFO :       Use taylor pruner...
2023-11-08 11:31:32 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:32 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:33 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 317/9741 [00:00<00:03, 2855.76 examples/s]Map (num_proc=10):  81%|████████  | 7868/9741 [00:00<00:00, 40961.04 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 25946.49 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  20%|██        | 245/1221 [00:00<00:00, 2350.29 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4924.54 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/684 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 276/684 [00:00<00:00, 2558.24 examples/s]Map (num_proc=10): 100%|██████████| 684/684 [00:00<00:00, 2756.36 examples/s]
2023-11-08 11:31:37 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:31:37 - INFO :       Loss = 16.46875
2023-11-08 11:31:39 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:31:39 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:31:40 - INFO :       commonsense_qa_truthful_qa_mc: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:31:40 - INFO :       
==================Finish================

2023-11-08 11:31:40 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:31:40 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:31:40 - INFO :       DATASET: commonsense_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:31:48 - INFO :       Use taylor pruner...
2023-11-08 11:31:48 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:48 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:31:48 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/9741 [00:00<?, ? examples/s]Map (num_proc=10):   3%|▎         | 317/9741 [00:00<00:03, 2891.13 examples/s]Map (num_proc=10):  83%|████████▎ | 8069/9741 [00:00<00:00, 44398.25 examples/s]Map (num_proc=10): 100%|██████████| 9741/9741 [00:00<00:00, 26389.54 examples/s]
Map (num_proc=10):   0%|          | 0/1221 [00:00<?, ? examples/s]Map (num_proc=10):  40%|████      | 489/1221 [00:00<00:00, 4162.94 examples/s]Map (num_proc=10): 100%|██████████| 1221/1221 [00:00<00:00, 4650.52 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 223/12726 [00:00<00:06, 1886.65 examples/s]Map (num_proc=10):  50%|█████     | 6398/12726 [00:00<00:00, 33428.07 examples/s]Map (num_proc=10):  79%|███████▊  | 10000/12726 [00:00<00:00, 23648.19 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 1842.25 examples/s] Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2619.40 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▍         | 209/4241 [00:00<00:02, 1903.86 examples/s]Map (num_proc=10):  60%|██████    | 2554/4241 [00:00<00:00, 6675.11 examples/s]Map (num_proc=10):  76%|███████▋  | 3236/4241 [00:00<00:00, 3596.93 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3853.15 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3631.54 examples/s]
2023-11-08 11:31:59 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:31:59 - INFO :       Loss = 17.5625
2023-11-08 11:32:01 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:32:01 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:32:02 - INFO :       commonsense_qa_ScienceQA: Total Sparsity 1.377467134952749e-06
2023-11-08 11:32:02 - INFO :       
==================Finish================

2023-11-08 11:32:02 - INFO :       Memory Requirement: 33016.6494140625 MiB

2023-11-08 11:32:02 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:32:02 - INFO :       DATASET: mmlu_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.67s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.15s/it]
2023-11-08 11:32:10 - INFO :       Use taylor pruner...
2023-11-08 11:32:10 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:32:10 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:32:10 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/99842 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 623/99842 [00:00<00:17, 5586.09 examples/s]Map (num_proc=10):   9%|▉         | 9442/99842 [00:00<00:01, 51434.67 examples/s]Map (num_proc=10):  17%|█▋        | 17049/99842 [00:00<00:01, 60319.45 examples/s]Map (num_proc=10):  26%|██▌       | 25932/99842 [00:00<00:01, 70568.30 examples/s]Map (num_proc=10):  35%|███▌      | 35125/99842 [00:00<00:00, 77986.10 examples/s]Map (num_proc=10):  44%|████▎     | 43564/99842 [00:00<00:00, 80060.92 examples/s]Map (num_proc=10):  52%|█████▏    | 52100/99842 [00:00<00:00, 81742.72 examples/s]Map (num_proc=10):  61%|██████    | 60695/99842 [00:00<00:00, 83036.59 examples/s]Map (num_proc=10):  70%|███████   | 70192/99842 [00:00<00:00, 84645.24 examples/s]Map (num_proc=10):  80%|███████▉  | 79804/99842 [00:01<00:00, 88100.12 examples/s]Map (num_proc=10):  89%|████████▉ | 89075/99842 [00:01<00:00, 84781.23 examples/s]Map (num_proc=10):  98%|█████████▊| 97685/99842 [00:03<00:00, 9674.00 examples/s] Map (num_proc=10): 100%|██████████| 99842/99842 [00:05<00:00, 17822.74 examples/s]
Map (num_proc=10):   0%|          | 0/1531 [00:00<?, ? examples/s]Map (num_proc=10):  30%|███       | 460/1531 [00:00<00:00, 4306.36 examples/s]Map (num_proc=10): 100%|██████████| 1531/1531 [00:00<00:00, 6252.22 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 219/12726 [00:00<00:06, 1873.14 examples/s]Map (num_proc=10):  48%|████▊     | 6156/12726 [00:00<00:00, 32559.61 examples/s]Map (num_proc=10):  76%|███████▌  | 9651/12726 [00:00<00:00, 22639.10 examples/s]Map (num_proc=10):  98%|█████████▊| 12454/12726 [00:04<00:00, 2074.39 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2966.45 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 216/4241 [00:00<00:02, 1898.46 examples/s]Map (num_proc=10):  61%|██████▏   | 2604/4241 [00:00<00:00, 7106.60 examples/s]Map (num_proc=10):  78%|███████▊  | 3327/4241 [00:00<00:00, 3230.77 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 4117.65 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3710.21 examples/s]
2023-11-08 11:32:25 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:32:26 - INFO :       Loss = 13.7890625
2023-11-08 11:32:28 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:32:28 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:32:29 - INFO :       mmlu_ScienceQA: Total Sparsity 1.3727075223799662e-06
2023-11-08 11:32:29 - INFO :       
==================Finish================

2023-11-08 11:32:29 - INFO :       Memory Requirement: 33017.3916015625 MiB

2023-11-08 11:32:29 - INFO :       
********************************************************************************************************************************************************************************************************

2023-11-08 11:32:29 - INFO :       DATASET: math_qa_ScienceQA
******************************
Generating Samples
******************************
Prepare Validation Dataset
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:01<00:01,  1.66s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.05s/it]Loading checkpoint shards: 100%|██████████| 2/2 [00:02<00:00,  1.14s/it]
2023-11-08 11:32:36 - INFO :       Use taylor pruner...
2023-11-08 11:32:36 - INFO :       Pruning Attention Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:32:36 - INFO :       Pruning MLP Layer = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]
2023-11-08 11:32:37 - INFO :       Start Pruning
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/29837 [00:00<?, ? examples/s]Map (num_proc=10):   1%|          | 356/29837 [00:00<00:08, 3298.70 examples/s]Map (num_proc=10):  29%|██▉       | 8798/29837 [00:00<00:00, 48496.63 examples/s]Map (num_proc=10):  53%|█████▎    | 15934/29837 [00:00<00:00, 58579.45 examples/s]Map (num_proc=10):  76%|███████▌  | 22706/29837 [00:00<00:00, 61576.72 examples/s]Map (num_proc=10):  98%|█████████▊| 29314/29837 [00:00<00:00, 59836.35 examples/s]Map (num_proc=10): 100%|██████████| 29837/29837 [00:00<00:00, 43273.01 examples/s]
Map (num_proc=10):   0%|          | 0/4475 [00:00<?, ? examples/s]Map (num_proc=10):   8%|▊         | 343/4475 [00:00<00:01, 3028.94 examples/s]Map (num_proc=10): 100%|██████████| 4475/4475 [00:00<00:00, 15165.74 examples/s]
******************************
Generating Samples
******************************
Prepare Validation Dataset
******************************
Loading Dataset
Map (num_proc=10):   0%|          | 0/12726 [00:00<?, ? examples/s]Map (num_proc=10):   2%|▏         | 224/12726 [00:00<00:06, 1853.09 examples/s]Map (num_proc=10):  47%|████▋     | 5950/12726 [00:00<00:00, 31729.63 examples/s]Map (num_proc=10):  75%|███████▌  | 9589/12726 [00:00<00:00, 24424.80 examples/s]Map (num_proc=10):  98%|█████████▊| 12441/12726 [00:04<00:00, 2108.85 examples/s]Map (num_proc=10): 100%|██████████| 12726/12726 [00:04<00:00, 2982.83 examples/s]
Map (num_proc=10):   0%|          | 0/4241 [00:00<?, ? examples/s]Map (num_proc=10):   5%|▌         | 216/4241 [00:00<00:02, 1897.83 examples/s]Map (num_proc=10):  61%|██████    | 2591/4241 [00:00<00:00, 5154.97 examples/s]Map (num_proc=10):  75%|███████▌  | 3194/4241 [00:00<00:00, 4109.23 examples/s]Map (num_proc=10):  88%|████████▊ | 3711/4241 [00:00<00:00, 4265.54 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:00<00:00, 4285.54 examples/s]Map (num_proc=10): 100%|██████████| 4241/4241 [00:01<00:00, 3802.18 examples/s]
2023-11-08 11:32:46 - INFO :       Start Backwarding in iterative steps = 0...
2023-11-08 11:32:47 - INFO :       Loss = 17.375
2023-11-08 11:32:49 - INFO :       After Iter 1/1, #parameters: 5935140864
2023-11-08 11:32:49 - INFO :       #Param before: 6738415616, #Param after: 5935140864, Ratio = 88.0792%
2023-11-08 11:32:50 - INFO :       math_qa_ScienceQA: Total Sparsity 1.3712972668028455e-06
2023-11-08 11:32:50 - INFO :       
==================Finish================

2023-11-08 11:32:50 - INFO :       Memory Requirement: 33017.8134765625 MiB

******************************
Generating Samples
******************************
Prepare Validation Dataset
